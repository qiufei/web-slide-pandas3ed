---
title: "Python æ•°æ®åˆ†æ"
subtitle: "ç¬¬ 4 ç«  NumPy åŸºç¡€ï¼šæ•°ç»„å’Œå‘é‡åŒ–è®¡ç®—"
---

## NumPy ç®€ä»‹

- NumPyï¼Œå…¨ç§° Numerical Pythonï¼Œæ˜¯ Python ä¸­ç”¨äºæ•°å€¼è®¡ç®—çš„åŸºç¡€åŒ…ã€‚

- **ä¸ºä»€ä¹ˆ NumPy å¾ˆé‡è¦ï¼Ÿ** ğŸ§ è®¸å¤šç§‘å­¦è®¡ç®—åŒ…éƒ½ä¾èµ– NumPy çš„æ•°ç»„å¯¹è±¡è¿›è¡Œæ•°æ®äº¤æ¢ã€‚å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ Python æ•°æ®åˆ†æçš„*é€šç”¨è¯­è¨€*ã€‚

- NumPy ä¸“ä¸ºé«˜æ•ˆå¤„ç†å¤§å‹æ•°æ®æ•°ç»„è€Œè®¾è®¡ã€‚

- **æˆ‘ä»¬å°†å­¦åˆ°ä»€ä¹ˆï¼Ÿ** æˆ‘ä»¬å°†æ¶µç›– NumPy çš„åŸºç¡€çŸ¥è¯†ï¼Œé‡ç‚¹å…³æ³¨ NumPy å¦‚ä½•å®ç°å¿«é€Ÿçš„ã€é¢å‘æ•°ç»„çš„æ“ä½œï¼Œè¿™å¯¹äºä½¿ç”¨ pandas ç­‰åº“è¿›è¡Œæ•°æ®åˆ†æè‡³å…³é‡è¦ã€‚

## NumPy çš„å…³é”®ç‰¹æ€§

ä»¥ä¸‹æ˜¯ NumPy æä¾›çš„ä¸»è¦åŠŸèƒ½ï¼š

- **ndarray:** NumPy çš„æ ¸å¿ƒã€‚ä¸€ç§é«˜æ•ˆçš„å¤šç»´æ•°ç»„ã€‚å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢è£…ç€ç›¸åŒç±»å‹çš„æ•°æ®ï¼ˆä¾‹å¦‚ï¼Œå…¨æ˜¯æ•°å­—ï¼‰ã€‚å®ƒå…è®¸å¿«é€Ÿæ“ä½œå’Œ*å¹¿æ’­*ï¼ˆç¨åä¼šä»‹ç»ï¼ï¼‰ã€‚
- **æ•°å­¦å‡½æ•°:** ä¸€å¥—ä¸°å¯Œçš„å‡½æ•°ï¼Œå¯ä»¥å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œæ“ä½œï¼Œ*æ— éœ€*æ˜¾å¼å¾ªç¯ã€‚è¿™è¢«ç§°ä¸º*å‘é‡åŒ–*ï¼Œå®ƒæ¯”åœ¨ Python ä¸­ç¼–å†™å¾ªç¯è¦å¿«*å¾—å¤š*ã€‚
- **æ•°æ® I/O:** ç”¨äºå°†æ•°ç»„æ•°æ®è¯»å†™åˆ°ç£ç›˜çš„å·¥å…·ã€‚
- **çº¿æ€§ä»£æ•°:** çº¿æ€§ä»£æ•°ã€éšæœºæ•°ç”Ÿæˆå’Œå‚…é‡Œå¶å˜æ¢çš„åŠŸèƒ½ã€‚è¿™äº›æ˜¯è®¸å¤šç§‘å­¦å’Œå·¥ç¨‹ä»»åŠ¡çš„åŸºæœ¬å·¥å…·ã€‚
- **C API:** å…è®¸ä¸ç”¨ Cã€C++ æˆ– FORTRAN ç¼–å†™çš„åº“æ— ç¼é›†æˆã€‚è¿™æ˜¯åˆ©ç”¨é«˜æ€§èƒ½é—ç•™ä»£ç çš„å…³é”®ã€‚

## ä¸ºä»€ä¹ˆ NumPy é«˜æ•ˆï¼Ÿ

NumPy çš„æ•ˆç‡æºäºä»¥ä¸‹å‡ ä¸ªè®¾è®¡é€‰æ‹©ï¼š

- **è¿ç»­å†…å­˜:** ä¸ Python åˆ—è¡¨ä¸åŒï¼ŒNumPy æ•°ç»„å°†æ•°æ®å­˜å‚¨åœ¨å•ä¸ªè¿ç»­çš„å†…å­˜å—ä¸­ã€‚è¿™ä½¿å¾—è®¿é—®å’Œæ“ä½œæ•°æ®æ›´å¿«ã€‚

- **åŸºäº C çš„ç®—æ³•:** è®¸å¤š NumPy æ“ä½œéƒ½æ˜¯ç”¨ C å®ç°çš„ï¼Œé¿å…äº† Python è§£é‡Šå™¨çš„å¼€é”€ã€‚

- **æ›´å°‘çš„å†…å­˜ä½¿ç”¨:** NumPy æ•°ç»„é€šå¸¸æ¯” Python åˆ—è¡¨æ¶ˆè€—æ›´å°‘çš„å†…å­˜ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ•°å€¼æ•°æ®ã€‚

## NumPy vs. Python åˆ—è¡¨ï¼šæ€§èƒ½å¯¹å†³ ğŸƒâ€â™‚ï¸

è®©æˆ‘ä»¬çœ‹çœ‹ NumPy çš„é€Ÿåº¦ä¼˜åŠ¿ã€‚æˆ‘ä»¬å°†æ¯”è¾ƒä½¿ç”¨ NumPy æ•°ç»„å’Œ Python åˆ—è¡¨å°†ä¸€ç™¾ä¸‡ä¸ªæ•´æ•°ä¹˜ä»¥ 2 çš„é€Ÿåº¦ï¼š

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy åº“ï¼Œå¹¶å°†å…¶å‘½åä¸º np
my_arr = np.arange(1_000_000)  # åˆ›å»ºä¸€ä¸ªåŒ…å« 0 åˆ° 999,999 çš„ NumPy æ•°ç»„
my_list = list(range(1_000_000)) # åˆ›å»ºä¸€ä¸ªåŒ…å« 0 åˆ° 999,999 çš„ Python åˆ—è¡¨
```

## NumPy vs. Python åˆ—è¡¨ï¼šè®¡æ—¶æ“ä½œ

ç°åœ¨ï¼Œè¿›è¡Œè®¡æ—¶æ“ä½œï¼š

NumPy æ•°ç»„æ“ä½œï¼š

```{python}
#| echo: true
# %timeit my_arr2 = my_arr * 2  # ä½¿ç”¨ %timeit é­”æ³•å‘½ä»¤æµ‹é‡ NumPy æ•°ç»„æ“ä½œçš„æ—¶é—´
```

## NumPy vs. Python åˆ—è¡¨ï¼šè®¡æ—¶ï¼ˆç»­ï¼‰

Python åˆ—è¡¨æ“ä½œï¼ˆä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ï¼‰ï¼š

```{python}
#| echo: true
# %timeit my_list2 = [x * 2 for x in my_list]  # ä½¿ç”¨ %timeit æµ‹é‡ Python åˆ—è¡¨æ¨å¯¼å¼çš„æ—¶é—´
```

åŸºäº NumPy çš„ç®—æ³•é€šå¸¸æ¯”çº¯ Python ç®—æ³•å¿« 10 åˆ° 100 å€ï¼ˆæˆ–æ›´å¤šï¼‰ï¼Œå¹¶ä¸”ä½¿ç”¨çš„å†…å­˜æ˜¾è‘—å‡å°‘ã€‚

## NumPy ndarrayï¼šæ·±å…¥äº†è§£

`ndarray`ï¼ˆN ç»´æ•°ç»„ï¼‰æ˜¯ NumPy ä¸­çš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚

- **åŒè´¨æ•°æ®:** ndarray ä¸­çš„æ‰€æœ‰å…ƒç´ å¿…é¡»å…·æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œå…¨æ˜¯æ•´æ•°ï¼Œå…¨æ˜¯æµ®ç‚¹æ•°ï¼‰ã€‚

- **å…³é”®å±æ€§:**
  - `shape`: ä¸€ä¸ªå…ƒç»„ï¼Œè¡¨ç¤ºæ¯ä¸ªç»´åº¦çš„å¤§å°ã€‚å¯¹äº 2x3 æ•°ç»„ï¼Œå½¢çŠ¶å°†æ˜¯ `(2, 3)`ã€‚
  - `dtype`: ä¸€ä¸ªæè¿°å…ƒç´ æ•°æ®ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œ`int64`ã€`float32`ï¼‰çš„å¯¹è±¡ã€‚

- **åˆ›å»º ndarray:** åˆ›å»ºæ•°ç»„çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ `array` å‡½æ•°ã€‚å®ƒæ¥å—ä»»ä½•ç±»ä¼¼åºåˆ—çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬å…¶ä»–æ•°ç»„ï¼‰ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„ NumPy æ•°ç»„ã€‚

## åˆ›å»º ndarrayï¼šç¤ºä¾‹ï¼ˆä»åˆ—è¡¨ï¼‰

è®©æˆ‘ä»¬åˆ›å»ºä¸€äº›æ•°ç»„ï¼š

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy

# ä»åˆ—è¡¨åˆ›å»º
data1 = [6, 7.5, 8, 0, 1]  # ä¸€ä¸ª Python åˆ—è¡¨
arr1 = np.array(data1)  # ä½¿ç”¨ np.array å°†åˆ—è¡¨è½¬æ¢ä¸º NumPy æ•°ç»„
print(arr1)  # æ‰“å°æ•°ç»„
print(arr1.dtype)  # æ‰“å°æ•°ç»„çš„æ•°æ®ç±»å‹
```

## åˆ›å»º ndarrayï¼šç¤ºä¾‹ï¼ˆä»åµŒå¥—åˆ—è¡¨ï¼‰

```{python}
#| echo: true
# ä»åµŒå¥—åˆ—è¡¨åˆ›å»ºï¼ˆåˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„ï¼‰
data2 = [[1, 2, 3, 4], [5, 6, 7, 8]]  # ä¸€ä¸ªåµŒå¥—çš„ Python åˆ—è¡¨
arr2 = np.array(data2)  # å°†åµŒå¥—åˆ—è¡¨è½¬æ¢ä¸º NumPy äºŒç»´æ•°ç»„
print(arr2)
print(arr2.ndim)  # æ‰“å°æ•°ç»„çš„ç»´åº¦æ•°
print(arr2.shape) # æ‰“å°æ•°ç»„çš„å½¢çŠ¶
print(arr2.dtype) # æ‰“å°æ•°ç»„çš„æ•°æ®ç±»å‹
```

## æ•°ç»„åˆ›å»ºå‡½æ•°ï¼šZeros

NumPy æä¾›äº†å‡ ä¸ªæ–¹ä¾¿çš„å‡½æ•°æ¥åˆ›å»ºæ•°ç»„ï¼š

```{python}
#| echo: true
# åˆ›å»ºå…¨é›¶æ•°ç»„
import numpy as np  # å¯¼å…¥ NumPy
zeros_arr = np.zeros(10)  # åˆ›å»ºä¸€ä¸ªåŒ…å« 10 ä¸ªé›¶çš„ä¸€ç»´æ•°ç»„
print(zeros_arr)

zeros_arr_2d = np.zeros((3, 6)) # åˆ›å»ºä¸€ä¸ª 3x6 çš„äºŒç»´å…¨é›¶æ•°ç»„
print(zeros_arr_2d)
```

## æ•°ç»„åˆ›å»ºå‡½æ•°ï¼šOnes å’Œ Empty

```{python}
#| echo: true
# åˆ›å»ºå…¨ä¸€æ•°ç»„
ones_arr = np.ones((2, 3)) # åˆ›å»ºä¸€ä¸ª 2x3 çš„äºŒç»´å…¨ä¸€æ•°ç»„
print(ones_arr)
```

```{python}
#| echo: true
# åˆ›å»ºæœªåˆå§‹åŒ–çš„æ•°ç»„ï¼ˆå¯èƒ½åŒ…å«åƒåœ¾å€¼ï¼‰
empty_arr = np.empty((2, 3, 2)) # åˆ›å»ºä¸€ä¸ª 2x3x2 çš„ä¸‰ç»´æ•°ç»„ï¼Œå€¼æœªåˆå§‹åŒ–
print(empty_arr)
```

## æ•°ç»„åˆ›å»ºå‡½æ•°ï¼šArange

```{python}
#| echo: true
# 'arange': ç±»ä¼¼äº Python çš„ 'range'ï¼Œä½†è¿”å›ä¸€ä¸ª ndarray
range_arr = np.arange(15)  # åˆ›å»ºä¸€ä¸ªåŒ…å« 0 åˆ° 14 çš„ä¸€ç»´æ•°ç»„
print(range_arr)
```

## æ•°ç»„åˆ›å»ºå‡½æ•°æ€»ç»“

ä¸‹è¡¨æ€»ç»“äº†å¸¸è§çš„æ•°ç»„åˆ›å»ºå‡½æ•°ï¼š

| å‡½æ•°            | æè¿°                                                                                                          |
|-----------------|----------------------------------------------------------------------------------------------------------------------|
| `array`          | å°†è¾“å…¥æ•°æ®ï¼ˆåˆ—è¡¨ã€å…ƒç»„ã€æ•°ç»„ç­‰ï¼‰è½¬æ¢ä¸º ndarrayã€‚                                                        |
| `asarray`        | ç±»ä¼¼äº `array`ï¼Œä½†å¦‚æœè¾“å…¥å·²ç»æ˜¯ ndarrayï¼Œåˆ™ä¸å¤åˆ¶ã€‚                                            |
| `arange`         | ç±»ä¼¼äº Python çš„ `range`ï¼Œä½†è¿”å› ndarrayã€‚                                                                        |

## æ•°ç»„åˆ›å»ºå‡½æ•°æ€»ç»“ï¼ˆç»­ï¼‰

| å‡½æ•°            | æè¿°                                                                                                          |
|-----------------|----------------------------------------------------------------------------------------------------------------------|
| `ones`, `ones_like` | åˆ›å»ºå…¨ 1 æ•°ç»„ã€‚`ones_like` æ¥å—å¦ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå½¢çŠ¶å’Œ dtype ç›¸åŒçš„å…¨ 1 æ•°ç»„ã€‚ |
| `zeros`, `zeros_like` |  ç±»ä¼¼äº `ones` å’Œ `ones_like`ï¼Œä½†åˆ›å»ºå…¨ 0 æ•°ç»„ã€‚                                          |
| `empty`, `empty_like` | åˆ›å»ºæœªåˆå§‹åŒ–å€¼çš„æ•°ç»„ã€‚è°¨æ…ä½¿ç”¨ï¼                                              |

## æ•°ç»„åˆ›å»ºå‡½æ•°æ€»ç»“ï¼ˆç»­ï¼‰

| å‡½æ•°            | æè¿°                                                                                                          |
|-----------------|----------------------------------------------------------------------------------------------------------------------|
| `full`, `full_like` | åˆ›å»ºä¸€ä¸ªç”¨æŒ‡å®šå€¼å¡«å……çš„æ•°ç»„ã€‚`full_like` æ¥å—å¦ä¸€ä¸ªæ•°ç»„å¹¶ä½¿ç”¨å…¶å½¢çŠ¶å’Œ dtypeã€‚       |
| `eye`, `identity`  | åˆ›å»ºä¸€ä¸ªæ­£æ–¹å½¢å•ä½çŸ©é˜µï¼ˆå¯¹è§’çº¿ä¸Šä¸º 1ï¼Œå…¶ä»–åœ°æ–¹ä¸º 0ï¼‰ã€‚                                              |

## æ•°æ®ç±»å‹ (dtypes)

- **ä»€ä¹ˆæ˜¯ dtypeï¼Ÿ** ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼ŒåŒ…å«æœ‰å…³ ndarray æ‰€æŒæœ‰çš„æ•°æ®ç±»å‹çš„ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œ`float64`ã€`int32`ã€`bool`ï¼‰ã€‚

- **ä¸ºä»€ä¹ˆ dtype å¾ˆé‡è¦ï¼Ÿ** å®ƒä»¬ä½¿æ‚¨å¯ä»¥ç²¾ç»†åœ°æ§åˆ¶æ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ã€‚è¿™å¯¹äºæ€§èƒ½è‡³å…³é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§å‹æ•°æ®é›†æ—¶ã€‚å®ƒä»¬è¿˜å…è®¸ NumPy ä¸æ•°æ®æ¥å£ã€‚

## æ•°æ®ç±»å‹ï¼šæŒ‡å®š dtypes

æŒ‡å®š dtypesï¼š

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
arr1 = np.array([1, 2, 3], dtype=np.float64)  # æ˜¾å¼è®¾ç½® dtype ä¸º float64
arr2 = np.array([1, 2, 3], dtype=np.int32)  # æ˜¾å¼è®¾ç½® dtype ä¸º int32
print(arr1.dtype)  # æ‰“å° arr1 çš„ dtype
print(arr2.dtype)  # æ‰“å° arr2 çš„ dtype
```

## å¸¸è§çš„ NumPy æ•°æ®ç±»å‹

| ç±»å‹             | ç±»å‹ä»£ç       | æè¿°                                                                         |
|-------------------|----------------|-------------------------------------------------------------------------------------|
| `int8`, `uint8`   | `i1`, `u1`     | æœ‰ç¬¦å·å’Œæ— ç¬¦å· 8 ä½ï¼ˆ1 å­—èŠ‚ï¼‰æ•´æ•°ç±»å‹                                    |
| `int16`, `uint16` | `i2`, `u2`     | æœ‰ç¬¦å·å’Œæ— ç¬¦å· 16 ä½æ•´æ•°ç±»å‹                                           |
| `int32`, `uint32` | `i4`, `u4`     | æœ‰ç¬¦å·å’Œæ— ç¬¦å· 32 ä½æ•´æ•°ç±»å‹                                           |
| `int64`, `uint64` | `i8`, `u8`     | æœ‰ç¬¦å·å’Œæ— ç¬¦å· 64 ä½æ•´æ•°ç±»å‹                                           |

## å¸¸è§çš„ NumPy æ•°æ®ç±»å‹ï¼ˆç»­ï¼‰

| ç±»å‹             | ç±»å‹ä»£ç       | æè¿°                                                                         |
|-------------------|----------------|-------------------------------------------------------------------------------------|
| `float16`        | `f2`           | åŠç²¾åº¦æµ®ç‚¹æ•°                                                       |
| `float32`        | `f4` æˆ– `f`    | æ ‡å‡†å•ç²¾åº¦æµ®ç‚¹æ•°ï¼›ä¸ C `float` å…¼å®¹                 |
| `float64`        | `f8` æˆ– `d`    | æ ‡å‡†åŒç²¾åº¦æµ®ç‚¹æ•°ï¼›ä¸ C `double` å’Œ Python `float` å…¼å®¹ |
| `float128`       | `f16` æˆ– `g`   | æ‰©å±•ç²¾åº¦æµ®ç‚¹æ•°                                                  |

## å¸¸è§çš„ NumPy æ•°æ®ç±»å‹ï¼ˆç»­ï¼‰

| ç±»å‹             | ç±»å‹ä»£ç      | æè¿°                                                                         |
|------------------|----------------|-------------------------------------------------------------------------------------|
| `complex64`, `complex128`, `complex256` | `c8`, `c16`, `c32` | åˆ†åˆ«ç”±ä¸¤ä¸ª 32ã€64 æˆ– 128 ä½æµ®ç‚¹æ•°è¡¨ç¤ºçš„å¤æ•°               |
| `bool`           | `?`            | å¸ƒå°”ç±»å‹ï¼Œå­˜å‚¨ `True` å’Œ `False` å€¼                                       |
| `object`         | `O`            | Python å¯¹è±¡ç±»å‹ï¼›å€¼å¯ä»¥æ˜¯ä»»ä½• Python å¯¹è±¡                                 |
| `string_`        | `S`            | å›ºå®šé•¿åº¦çš„ ASCII å­—ç¬¦ä¸²ç±»å‹ï¼ˆæ¯ä¸ªå­—ç¬¦ 1 ä¸ªå­—èŠ‚ï¼‰ã€‚ä½¿ç”¨ `S10` è¡¨ç¤ºé•¿åº¦ä¸º 10 çš„å­—ç¬¦ä¸²ã€‚|
| `unicode_`       | `U`            | å›ºå®šé•¿åº¦çš„ Unicode ç±»å‹ï¼ˆå­—èŠ‚æ•°å–å†³äºå¹³å°ï¼‰                        |

æ—¢æœ‰*æœ‰ç¬¦å·*æ•´æ•°ç±»å‹ï¼Œä¹Ÿæœ‰*æ— ç¬¦å·*æ•´æ•°ç±»å‹ã€‚*æœ‰ç¬¦å·*æ•´æ•°å¯ä»¥è¡¨ç¤ºæ­£æ•´æ•°å’Œè´Ÿæ•´æ•°ï¼Œè€Œ*æ— ç¬¦å·*æ•´æ•°åªèƒ½è¡¨ç¤ºéè´Ÿæ•´æ•°ã€‚

## ä½¿ç”¨ `astype` è¿›è¡Œç±»å‹è½¬æ¢ï¼šæ•´æ•°åˆ°æµ®ç‚¹æ•°

- **ä»€ä¹ˆæ˜¯ç±»å‹è½¬æ¢ï¼Ÿ** å°†æ•°ç»„ä»ä¸€ç§ dtype è½¬æ¢ä¸ºå¦ä¸€ç§ dtypeã€‚

- **å¦‚ä½•è¿›è¡Œç±»å‹è½¬æ¢:** ä½¿ç”¨ `astype` æ–¹æ³•ã€‚`astype` *æ€»æ˜¯*åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼ˆæ•°æ®çš„å‰¯æœ¬ï¼‰ï¼Œå³ä½¿æ–°çš„ dtype ä¸æ—§çš„ dtype ç›¸åŒã€‚

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
arr = np.array([1, 2, 3, 4, 5])  # åˆ›å»ºä¸€ä¸ªæ•´æ•°æ•°ç»„
print(arr.dtype)  # æ‰“å°åŸå§‹ dtype
float_arr = arr.astype(np.float64) # å°†æ•´æ•°æ•°ç»„è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ•°ç»„
print(float_arr.dtype) # æ‰“å°è½¬æ¢åçš„ dtype
```

## ä½¿ç”¨ `astype` è¿›è¡Œç±»å‹è½¬æ¢ï¼šå­—ç¬¦ä¸²åˆ°æµ®ç‚¹æ•°

```{python}
#| echo: true
# `np.string_` åœ¨ NumPy 2.0 ç‰ˆæœ¬ä¸­å·²ç§»é™¤ã€‚è¯·æ”¹ç”¨ `np.bytes_`ã€‚
numeric_strings = np.array(['1.25', '-9.6', '42'], dtype=np.bytes_)  # åˆ›å»ºä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²çš„æ•°ç»„
float_arr = numeric_strings.astype(float) # å°†å­—ç¬¦ä¸²æ•°ç»„è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ•°ç»„
print(float_arr)  # æ‰“å°è½¬æ¢åçš„æ•°ç»„
```

ä½¿ç”¨ `numpy.string_` ç±»å‹æ—¶è¦å°å¿ƒï¼Œå› ä¸º NumPy ä¸­çš„å­—ç¬¦ä¸²æ•°æ®æ˜¯å›ºå®šå¤§å°çš„ï¼Œå¯èƒ½ä¼šæˆªæ–­è¾“å…¥è€Œä¸å‘å‡ºè­¦å‘Šã€‚

## NumPy æ•°ç»„çš„ç®—æœ¯è¿ç®—ï¼šå‘é‡åŒ–

- **å‘é‡åŒ–:** NumPy ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚å®ƒæ„å‘³ç€å¯¹æ•´ä¸ªæ•°ç»„æ‰§è¡Œæ“ä½œï¼Œ*æ— éœ€*ç¼–å†™æ˜¾å¼çš„ `for` å¾ªç¯ã€‚è¿™*æ›´*å¿«ã€æ›´ç®€æ´ã€‚

- **é€å…ƒç´ æ“ä½œ:** ç­‰å¤§å°æ•°ç»„ä¹‹é—´çš„ç®—æœ¯è¿ç®—æ˜¯é€å…ƒç´ åº”ç”¨çš„ï¼š

```{python}
#| echo: true
arr = np.array([[1., 2., 3.], [4., 5., 6.]])  # åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„
print(arr * arr) # é€å…ƒç´ ä¹˜æ³•
print(arr - arr) # é€å…ƒç´ å‡æ³•
```

## NumPy æ•°ç»„çš„ç®—æœ¯è¿ç®—ï¼šä¸æ ‡é‡çš„è¿ç®—

- **ä¸æ ‡é‡çš„è¿ç®—:** ä¸æ ‡é‡çš„ç®—æœ¯è¿ç®—ä¼šå°†æ ‡é‡å€¼*ä¼ æ’­*åˆ°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼š

```{python}
#| echo: true
print(1 / arr)   # æ¯ä¸ªå…ƒç´ é™¤ä»¥ 1
print(arr ** 2) # æ¯ä¸ªå…ƒç´ å¹³æ–¹
```

## å¹¿æ’­ï¼ˆç®€è¦ä»‹ç»ï¼‰

- **ä»€ä¹ˆæ˜¯å¹¿æ’­ï¼Ÿ** ä¸€ç§å¼ºå¤§çš„æœºåˆ¶ï¼Œå…è®¸ NumPy åœ¨æŸäº›æ¡ä»¶ä¸‹å¯¹*ä¸åŒ*å½¢çŠ¶çš„æ•°ç»„æ‰§è¡Œç®—æœ¯è¿ç®—ã€‚

- **ç¤ºä¾‹:** æ‚¨å¯ä»¥å°†æ ‡é‡æ·»åŠ åˆ°ä»»ä½•å½¢çŠ¶çš„æ•°ç»„ã€‚æ ‡é‡å®é™…ä¸Šè¢«â€œæ‹‰ä¼¸â€ä»¥åŒ¹é…æ•°ç»„çš„å½¢çŠ¶ã€‚

- æˆ‘ä»¬ç¨åä¼šæ›´è¯¦ç»†åœ°ä»‹ç»å¹¿æ’­ã€‚ç°åœ¨ï¼Œåªéœ€çŸ¥é“å®ƒçš„å­˜åœ¨å³å¯ã€‚

## åŸºæœ¬ç´¢å¼•å’Œåˆ‡ç‰‡

- **ç±»ä¼¼äº Python åˆ—è¡¨:** ä¸€ç»´ NumPy æ•°ç»„çš„ç´¢å¼•å’Œåˆ‡ç‰‡æ–¹å¼ä¸ Python åˆ—è¡¨éå¸¸ç›¸ä¼¼ï¼š

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
arr = np.arange(10)  # åˆ›å»ºä¸€ä¸ªåŒ…å« 0 åˆ° 9 çš„æ•°ç»„
print(arr[5])      # è®¿é—®ç´¢å¼• 5 å¤„çš„å…ƒç´ 
print(arr[5:8])    # å¯¹ç´¢å¼• 5 åˆ° 8ï¼ˆä¸åŒ…æ‹¬ 8ï¼‰çš„å…ƒç´ è¿›è¡Œåˆ‡ç‰‡
arr[5:8] = 12     # å°†ä¸€ä¸ªå€¼èµ‹ç»™ä¸€ä¸ªåˆ‡ç‰‡
print(arr)  # æ‰“å°ä¿®æ”¹åçš„æ•°ç»„
```

## åŸºæœ¬ç´¢å¼•å’Œåˆ‡ç‰‡ï¼šè§†å›¾ vs. å‰¯æœ¬

- **è§†å›¾ vs. å‰¯æœ¬:** *æ•°ç»„åˆ‡ç‰‡æ˜¯åŸå§‹æ•°ç»„ä¸Šçš„è§†å›¾*ã€‚è¿™æ„å‘³ç€ä¿®æ”¹åˆ‡ç‰‡*å°†*ä¿®æ”¹åŸå§‹æ•°ç»„ã€‚è¿™ä¸ Python åˆ—è¡¨ä¸åŒã€‚

```{python}
#| echo: true
arr_slice = arr[5:8]  # åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡
arr_slice[1] = 12345  # ä¿®æ”¹åˆ‡ç‰‡
print(arr)          # åŸå§‹æ•°ç»„ä¹Ÿè¢«ä¿®æ”¹ï¼
```

å¦‚æœæ‚¨æƒ³è¦ ndarray åˆ‡ç‰‡çš„å‰¯æœ¬è€Œä¸æ˜¯è§†å›¾ï¼Œåˆ™éœ€è¦æ˜¾å¼å¤åˆ¶è¯¥æ•°ç»„ - ä¾‹å¦‚ï¼Œ`arr[5:8].copy()`ã€‚

## ç´¢å¼•å’Œåˆ‡ç‰‡ï¼šæ›´é«˜ç»´åº¦ï¼ˆäºŒç»´æ•°ç»„ï¼‰

- **äºŒç»´æ•°ç»„:** æ‚¨å¯ä»¥ä½¿ç”¨é€—å·åˆ†éš”çš„ç´¢å¼•æ¥è®¿é—®å…ƒç´ ï¼š

```{python}
#| echo: true
arr2d = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])  # åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„
print(arr2d[2])     # è®¿é—®ç¬¬ä¸‰è¡Œï¼ˆç´¢å¼• 2ï¼‰
print(arr2d[0][2])  # è®¿é—®ç¬¬ 0 è¡Œç¬¬ 2 åˆ—çš„å…ƒç´ ï¼ˆä¸¤ç§æ–¹å¼ï¼‰
print(arr2d[0, 2])   # è®¿é—®ç¬¬ 0 è¡Œç¬¬ 2 åˆ—çš„å…ƒç´ 
```

## ç´¢å¼•å’Œåˆ‡ç‰‡ï¼šæ›´é«˜ç»´åº¦ï¼ˆè½´ï¼‰

- **å…³äºè½´çš„æ¦‚å¿µ:**
    - è½´ 0: è¡Œ
    - è½´ 1: åˆ—

## NumPy æ•°ç»„ä¸­çš„å…ƒç´ ç´¢å¼•ã€‚

```{mermaid}
graph LR
    subgraph "Axis 0 (Rows)"
        0 --> 1
        1 --> 2
    end
    subgraph "Axis 1 (Columns)"
        0 --> 0[0,0]
        0 --> 1[0,1]
        0 --> 2[0,2]
        1 --> 3[1,0]
        1 --> 4[1,1]
        1 --> 5[1,2]
        2 --> 6[2,0]
        2 --> 7[2,1]
        2 --> 8[2,2]
    end
```

## ç´¢å¼•å’Œåˆ‡ç‰‡ï¼šæ›´é«˜ç»´åº¦ï¼ˆå¤šç»´åˆ‡ç‰‡ï¼‰

- **å¤šç»´åˆ‡ç‰‡:**

```{python}
#| echo: true
print(arr2d[:2])      # é€‰æ‹©å‰ä¸¤è¡Œ
print(arr2d[:2, 1:])   # é€‰æ‹©å‰ä¸¤è¡Œï¼Œä»¥åŠç´¢å¼• 1 åŠä¹‹åçš„åˆ—
```

## ç´¢å¼•å’Œåˆ‡ç‰‡ï¼šæ›´é«˜ç»´åº¦ï¼ˆæ··åˆæ•´æ•°ç´¢å¼•å’Œåˆ‡ç‰‡ï¼‰

- **æ··åˆæ•´æ•°ç´¢å¼•å’Œåˆ‡ç‰‡:**

```{python}
#| echo: true
print(arr2d[1, :2])   # é€‰æ‹©ç¬¬äºŒè¡Œï¼Œå‰ä¸¤åˆ—ï¼ˆè¾ƒä½ç»´åº¦çš„åˆ‡ç‰‡ï¼‰
print(arr2d[:2, 2])    # é€‰æ‹©å‰ä¸¤è¡Œï¼Œç¬¬ä¸‰åˆ—
```

## ç´¢å¼•å’Œåˆ‡ç‰‡ï¼šæ›´é«˜ç»´åº¦ï¼ˆå†’å·è¡¨ç¤ºæ•´ä¸ªè½´ï¼‰

- **å†’å·è¡¨ç¤ºæ•´ä¸ªè½´:**

```{python}
#| echo: true
print(arr2d[:, :1])   # é€‰æ‹©æ‰€æœ‰è¡Œï¼Œä½†åªé€‰æ‹©ç¬¬ä¸€åˆ—
```

## äºŒç»´æ•°ç»„åˆ‡ç‰‡ï¼š`arr[:2,1:]`

| è¡¨è¾¾å¼         | å½¢çŠ¶     |
|-------------------|-----------|
| `arr[:2,1:]`      |   `(2,2)`   |

```{python}
#| echo: false
import matplotlib.pyplot as plt
import numpy as np

arr = np.zeros((3,3))
arr[:2,1:] = 1
plt.imshow(arr, cmap='gray_r')
plt.xticks([])
plt.yticks([])
plt.show()
```

## äºŒç»´æ•°ç»„åˆ‡ç‰‡ï¼š`arr[2]`

| è¡¨è¾¾å¼         | å½¢çŠ¶     |
|-------------------|-----------|
| `arr[2]`          |    `(3,)`   |

```{python}
#| echo: false
import matplotlib.pyplot as plt
import numpy as np
arr = np.zeros((3,3))
arr[2,:] = 1
plt.imshow(arr, cmap='gray_r')
plt.xticks([])
plt.yticks([])
plt.show()
```

## äºŒç»´æ•°ç»„åˆ‡ç‰‡ï¼š`arr[2,:]`

| è¡¨è¾¾å¼         | å½¢çŠ¶     |
|-------------------|-----------|
| `arr[2,:]`          |    `(3,)`   |

```{python}
#| echo: false
import matplotlib.pyplot as plt
import numpy as np
arr = np.zeros((3,3))
arr[2,:] = 1
plt.imshow(arr, cmap='gray_r')
plt.xticks([])
plt.yticks([])
plt.show()
```

## äºŒç»´æ•°ç»„åˆ‡ç‰‡ï¼š`arr[2:,:]`

| è¡¨è¾¾å¼         | å½¢çŠ¶     |
|-------------------|-----------|
| `arr[2:,:]`       |   `(1,3)`   |

```{python}
#| echo: false
import matplotlib.pyplot as plt
import numpy as np
arr = np.zeros((3,3))
arr[2:,:] = 1
plt.imshow(arr, cmap='gray_r')
plt.xticks([])
plt.yticks([])
plt.show()
```

## äºŒç»´æ•°ç»„åˆ‡ç‰‡ï¼š`arr[:, :2]`

| è¡¨è¾¾å¼         | å½¢çŠ¶     |
|-------------------|-----------|
| `arr[:, :2]`      |   `(3,2)`   |

```{python}
#| echo: false
import matplotlib.pyplot as plt
import numpy as np
arr = np.zeros((3,3))
arr[:,:2] = 1
plt.imshow(arr, cmap='gray_r')
plt.xticks([])
plt.yticks([])
plt.show()
```

## äºŒç»´æ•°ç»„åˆ‡ç‰‡ï¼š`arr[1, :2]`

| è¡¨è¾¾å¼         | å½¢çŠ¶     |
|-------------------|-----------|
| `arr[1, :2]`     |   `(2,)`   |

```{python}
#| echo: false
import matplotlib.pyplot as plt
import numpy as np
arr = np.zeros((3,3))
arr[1,:2] = 1
plt.imshow(arr, cmap='gray_r')
plt.xticks([])
plt.yticks([])
plt.show()
```

## äºŒç»´æ•°ç»„åˆ‡ç‰‡ï¼š`arr[1:2, :2]`

| è¡¨è¾¾å¼         | å½¢çŠ¶     |
|-------------------|-----------|
| `arr[1:2, :2]`    |  `(1,2)`    |

```{python}
#| echo: false
import matplotlib.pyplot as plt
import numpy as np
arr = np.zeros((3,3))
arr[1:2,:2] = 1
plt.imshow(arr, cmap='gray_r')
plt.xticks([])
plt.yticks([])
plt.show()
```

## å¸ƒå°”ç´¢å¼•ï¼šåˆ›å»ºå¸ƒå°”æ•°ç»„

- **æ¦‚å¿µ:** æ ¹æ®å¸ƒå°”æ•°ç»„é€‰æ‹©æ•°æ®ã€‚å¸ƒå°”æ•°ç»„é€šå¸¸ä¸æ‚¨è¦ç´¢å¼•çš„æ•°ç»„å…·æœ‰ç›¸åŒçš„å½¢çŠ¶ã€‚

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
names = np.array(['Bob', 'Joe', 'Will', 'Bob', 'Will', 'Joe', 'Joe'])  # åˆ›å»ºä¸€ä¸ªåŒ…å«åå­—çš„æ•°ç»„
data = np.array([[4, 7], [0, 2], [-5, 6], [0, 0], [1, 2],
                 [-12, -4], [3, 4]])  # åˆ›å»ºä¸€ä¸ªæ•°æ®æ•°ç»„

print(names == 'Bob')  # åˆ›å»ºä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼ŒæŒ‡ç¤ºå“ªäº›åå­—æ˜¯ 'Bob'
```

## å¸ƒå°”ç´¢å¼•ï¼šé€‰æ‹©è¡Œ

```{python}
#| echo: true
print(data[names == 'Bob'])  # é€‰æ‹©åå­—ä¸º 'Bob' çš„å¯¹åº”è¡Œ
```

## å¸ƒå°”ç´¢å¼•ï¼šä¸åˆ‡ç‰‡/ç´¢å¼•ç»“åˆ

```{python}
#| echo: true
print(data[names == 'Bob', 1:])  # é€‰æ‹©åå­—ä¸º 'Bob' çš„å¯¹åº”è¡Œï¼Œä»¥åŠç´¢å¼• 1 åŠä¹‹åçš„åˆ—
print(data[names != 'Bob'])     # é€‰æ‹©åå­—ä¸æ˜¯ 'Bob' çš„å¯¹åº”è¡Œ
```

## å¸ƒå°”ç´¢å¼•ï¼šé€»è¾‘è¿ç®—ç¬¦

- **é€»è¾‘è¿ç®—ç¬¦:**
  - `~`: å¯¹å¸ƒå°”æ•°ç»„å–åï¼ˆç±»ä¼¼äº `not`ï¼‰
  - `&`: ç»„åˆæ¡ä»¶ï¼ˆç±»ä¼¼äº `and`ï¼‰
  - `|`: ç»„åˆæ¡ä»¶ï¼ˆç±»ä¼¼äº `or`ï¼‰

```{python}
#| echo: true
mask = (names == 'Bob') | (names == 'Will')  # åˆ›å»ºä¸€ä¸ªæ©ç ï¼Œé€‰æ‹©åå­—ä¸º 'Bob' æˆ– 'Will' çš„è¡Œ
print(data[mask])  # ä½¿ç”¨æ©ç é€‰æ‹©æ•°æ®
```

Python å…³é”®å­— `and` å’Œ `or` ä¸é€‚ç”¨äºå¸ƒå°”æ•°ç»„ã€‚è¯·æ”¹ç”¨ `&` (and) å’Œ `|` (or)ã€‚

## èŠ±å¼ç´¢å¼•ï¼šé€‰æ‹©ç‰¹å®šè¡Œ

- **æ¦‚å¿µ:** ä½¿ç”¨æ•´æ•°æ•°ç»„è¿›è¡Œç´¢å¼•ã€‚å…è®¸æ‚¨é€‰æ‹©ç‰¹å®šçš„è¡Œæˆ–åˆ—ï¼Œç”šè‡³é‡æ–°æ’åˆ—å®ƒä»¬ã€‚

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
arr = np.zeros((8, 4))  # åˆ›å»ºä¸€ä¸ª 8x4 çš„å…¨é›¶æ•°ç»„
for i in range(8):      # å¾ªç¯éå†æ¯ä¸€è¡Œ
    arr[i] = i          # å°†æ¯ä¸€è¡Œçš„å€¼è®¾ç½®ä¸ºè¡Œå·
print(arr)
print(arr[[4, 3, 0, 6]])  # æŒ‰æŒ‡å®šé¡ºåºé€‰æ‹©ç¬¬ 4ã€3ã€0 å’Œ 6 è¡Œ
```

## èŠ±å¼ç´¢å¼•ï¼šé€‰æ‹©ç‰¹å®šå…ƒç´ 

```{python}
#| echo: true
arr = np.arange(32).reshape((8, 4))  # åˆ›å»ºä¸€ä¸ª 8x4 çš„æ•°ç»„ï¼Œå€¼ä¸º 0 åˆ° 31
print(arr[[1, 5, 7, 2], [0, 3, 1, 2]]) # é€‰æ‹©å…ƒç´  (1, 0), (5, 3), (7, 1), (2, 2)
```

## èŠ±å¼ç´¢å¼•ï¼šé€‰æ‹©çŸ©å½¢åŒºåŸŸ

```{python}
#| echo: true
print(arr[[1, 5, 7, 2]][:, [0, 3, 1, 2]])  # é€‰æ‹©ç¬¬ 1ã€5ã€7ã€2 è¡Œï¼Œå¹¶é‡æ–°æ’åˆ—åˆ—çš„é¡ºåº
```

- **é‡è¦æç¤º:** *ä¸åˆ‡ç‰‡ä¸åŒï¼ŒèŠ±å¼ç´¢å¼•æ€»æ˜¯å°†æ•°æ®å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­*ã€‚

## è½¬ç½®æ•°ç»„å’Œäº¤æ¢è½´

- **è½¬ç½®:** é€šè¿‡äº¤æ¢è¡Œå’Œåˆ—æ¥é‡æ–°æ’åˆ—æ•°æ®ã€‚ä½¿ç”¨ `.T` å±æ€§æˆ– `transpose` æ–¹æ³•ã€‚

```{python}
#| echo: true
arr = np.arange(15).reshape((3, 5))  # åˆ›å»ºä¸€ä¸ª 3x5 çš„æ•°ç»„
print(arr)  # æ‰“å°åŸå§‹æ•°ç»„
print(arr.T)  # è½¬ç½®æ•°ç»„
```

## è½¬ç½®æ•°ç»„ï¼šçŸ©é˜µä¹˜æ³•

- **çŸ©é˜µä¹˜æ³•:** ä½¿ç”¨ `np.dot` æˆ– `@` è¿ç®—ç¬¦è¿›è¡ŒçŸ©é˜µä¹˜æ³•ã€‚

```{python}
#| echo: true
arr = np.array([[0, 1, 0], [1, 2, -2], [6, 3, 2], [-1, 0, -1], [1, 0, 1]])  # åˆ›å»ºä¸€ä¸ªæ•°ç»„
print(np.dot(arr.T, arr))  # çŸ©é˜µä¹˜æ³•
print(arr.T @ arr) # ä½¿ç”¨ @ è¿ç®—ç¬¦è¿›è¡ŒçŸ©é˜µä¹˜æ³•
```

## è½¬ç½®æ•°ç»„ï¼šäº¤æ¢è½´

-   **äº¤æ¢è½´:** `swapaxes` æ–¹æ³•æ¥å—ä¸€å¯¹è½´ç¼–å·å¹¶äº¤æ¢æŒ‡å®šçš„è½´ã€‚

```{python}
#| echo: true
print(arr.swapaxes(0, 1)) # äº¤æ¢è½´ 0 å’Œè½´ 1
```

è½¬ç½®å’Œ `swapaxes` è¿”å›åº•å±‚æ•°æ®ä¸Šçš„*è§†å›¾*ï¼Œè€Œä¸è¿›è¡Œå¤åˆ¶ã€‚

## ä¼ªéšæœºæ•°ç”Ÿæˆ

- **`numpy.random` æ¨¡å—:** æä¾›ç”Ÿæˆéšæœºæ•°æ•°ç»„çš„å‡½æ•°ã€‚

- **`default_rng`:** åˆ›å»ºéšæœºæ•°ç”Ÿæˆå™¨çš„æ¨èæ–¹æ³•ã€‚

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
rng = np.random.default_rng(seed=12345)  # åˆ›å»ºä¸€ä¸ªå…·æœ‰ç§å­çš„ç”Ÿæˆå™¨
data = rng.standard_normal((2, 3))       # ç”Ÿæˆä¸€ä¸ª 2x3 çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒå€¼æ•°ç»„
print(data)  # æ‰“å°ç”Ÿæˆçš„æ•°ç»„
```

## ä¼ªéšæœºæ•°ç”Ÿæˆï¼ˆç»­ï¼‰

- **ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç§å­ï¼Ÿ** è®¾ç½®ç§å­å¯ç¡®ä¿å¯é‡å¤æ€§ã€‚æ¯æ¬¡éƒ½ä¼šå¾—åˆ°ç›¸åŒçš„éšæœºæ•°ã€‚

- **ç”Ÿæˆå™¨éš”ç¦»:** ç”Ÿæˆå™¨å¯¹è±¡ `rng` ä¸å¯èƒ½ä¹Ÿä½¿ç”¨ `numpy.random` æ¨¡å—çš„å…¶ä»–ä»£ç éš”ç¦»ã€‚

- **æ€§èƒ½:** `numpy.random` åœ¨ç”Ÿæˆå¤§å‹æ•°ç»„æ–¹é¢æ¯” Python çš„å†…ç½® `random` æ¨¡å—å¿«*å¾—å¤š*ã€‚

## å¸¸è§çš„ `numpy.random` å‡½æ•°

| æ–¹æ³•             | æè¿°                                                                  |
|----------------------|------------------------------------------------------------------------------|
| `permutation`      | è¿”å›åºåˆ—çš„éšæœºæ’åˆ—ï¼Œæˆ–æ’åˆ—åçš„èŒƒå›´ã€‚               |
| `shuffle`          | å°±åœ°éšæœºæ’åˆ—åºåˆ—ã€‚                                         |
| `uniform`          | ä»å‡åŒ€åˆ†å¸ƒä¸­æŠ½å–æ ·æœ¬ã€‚                                   |

## å¸¸è§çš„ `numpy.random` å‡½æ•°ï¼ˆç»­ï¼‰

| æ–¹æ³•             | æè¿°                                                                  |
|----------------------|------------------------------------------------------------------------------|
| `integers`       | ä»ç»™å®šçš„ä½åˆ°é«˜èŒƒå›´ä¸­æŠ½å–éšæœºæ•´æ•°ã€‚                      |
| `standard_normal`  | ä»æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ˆå‡å€¼ä¸º 0ï¼Œæ ‡å‡†å·®ä¸º 1ï¼‰ä¸­æŠ½å–æ ·æœ¬ã€‚ |
| `binomial`         | ä»äºŒé¡¹åˆ†å¸ƒä¸­æŠ½å–æ ·æœ¬ã€‚                                  |

## å¸¸è§çš„ `numpy.random` å‡½æ•°ï¼ˆç»­ï¼‰

| æ–¹æ³•             | æè¿°                                                                  |
|----------------------|------------------------------------------------------------------------------|
| `normal`           | ä»æ­£æ€ï¼ˆé«˜æ–¯ï¼‰åˆ†å¸ƒä¸­æŠ½å–æ ·æœ¬ã€‚                           |
| `beta`             | ä» Beta åˆ†å¸ƒä¸­æŠ½å–æ ·æœ¬ã€‚                                        |
| `chisquare`        | ä»å¡æ–¹åˆ†å¸ƒä¸­æŠ½å–æ ·æœ¬ã€‚                                 |
| `gamma`            | ä»ä¼½é©¬åˆ†å¸ƒä¸­æŠ½å–æ ·æœ¬ã€‚                                      |
| `uniform`          | ä»å‡åŒ€ [0, 1) åˆ†å¸ƒä¸­æŠ½å–æ ·æœ¬ã€‚                              |

## é€šç”¨å‡½æ•° (ufuncs)

- **ä»€ä¹ˆæ˜¯ ufuncsï¼Ÿ** å¯¹ ndarray æ‰§è¡Œé€å…ƒç´ æ“ä½œçš„å‡½æ•°ã€‚å®ƒä»¬æ˜¯ç®€å•å‡½æ•°çš„*å¿«é€Ÿ*å‘é‡åŒ–åŒ…è£…å™¨ã€‚

- **ä¸€å…ƒ ufuncs:** æ¥å—å•ä¸ªæ•°ç»„ä½œä¸ºè¾“å…¥ã€‚

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
arr = np.arange(10)  # åˆ›å»ºä¸€ä¸ªåŒ…å« 0 åˆ° 9 çš„æ•°ç»„
print(np.sqrt(arr))    # æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹æ ¹
print(np.exp(arr))     # æ¯ä¸ªå…ƒç´ çš„æŒ‡æ•°
```

## é€šç”¨å‡½æ•° (ufuncs)ï¼šäºŒå…ƒå’Œè¿”å›å¤šä¸ªæ•°ç»„çš„å‡½æ•°

-   **äºŒå…ƒ ufuncs:** æ¥å—ä¸¤ä¸ªæ•°ç»„ä½œä¸ºè¾“å…¥ã€‚

```{python}
#| echo: true
rng = np.random.default_rng(seed=12345)  # åˆ›å»ºä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨
x = rng.standard_normal(8)  # ç”Ÿæˆ 8 ä¸ªæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„éšæœºæ•°
y = rng.standard_normal(8)  # ç”Ÿæˆ 8 ä¸ªæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„éšæœºæ•°
print(np.maximum(x, y))  # é€å…ƒç´ æœ€å¤§å€¼
```

- **è¿”å›å¤šä¸ªæ•°ç»„çš„ ufuncs:**

```{python}
#| echo: true
arr = rng.standard_normal(7) * 5  # ç”Ÿæˆ 7 ä¸ªæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„éšæœºæ•°å¹¶ä¹˜ä»¥ 5
remainder, whole_part = np.modf(arr)  # è¿”å›å°æ•°éƒ¨åˆ†å’Œæ•´æ•°éƒ¨åˆ†
print(remainder)  # æ‰“å°å°æ•°éƒ¨åˆ†
print(whole_part) # æ‰“å°æ•´æ•°éƒ¨åˆ†
```

## ä¸€äº›ä¸€å…ƒé€šç”¨å‡½æ•°

| å‡½æ•°        | æè¿°                                                                                   |
|-----------------|-----------------------------------------------------------------------------------------------|
| `abs`, `fabs`   | é€å…ƒç´ è®¡ç®—ç»å¯¹å€¼ã€‚`fabs` å¯¹äºéå¤æ•°æ•°æ®æ›´å¿«ã€‚             |
| `sqrt`          | è®¡ç®—æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹æ ¹ï¼ˆç›¸å½“äº `arr ** 0.5`ï¼‰ã€‚                        |
| `square`        | è®¡ç®—æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹ï¼ˆç›¸å½“äº `arr ** 2`ï¼‰ã€‚                              |
| `exp`           | è®¡ç®—æ¯ä¸ªå…ƒç´ çš„æŒ‡æ•° *e*xã€‚                                                   |

## ä¸€äº›ä¸€å…ƒé€šç”¨å‡½æ•°ï¼ˆç»­ï¼‰

| å‡½æ•°        | æè¿°                                                                                   |
|-----------------|-----------------------------------------------------------------------------------------------|
| `log`, `log10`, `log2`, `log1p` | è‡ªç„¶å¯¹æ•°ï¼ˆä»¥ *e* ä¸ºåº•ï¼‰ã€ä»¥ 10 ä¸ºåº•çš„å¯¹æ•°ã€ä»¥ 2 ä¸ºåº•çš„å¯¹æ•°å’Œ log(1 + x)ã€‚        |
| `sign`          | è®¡ç®—æ¯ä¸ªå…ƒç´ çš„ç¬¦å·ï¼š1ï¼ˆæ­£æ•°ï¼‰ã€0ï¼ˆé›¶ï¼‰æˆ– -1ï¼ˆè´Ÿæ•°ï¼‰ã€‚                   |
| `ceil`          | è®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä¸Šé™ï¼ˆå¤§äºæˆ–ç­‰äºè¯¥æ•°å­—çš„æœ€å°æ•´æ•°ï¼‰ã€‚ |
| `floor`         | è®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä¸‹é™ï¼ˆå°äºæˆ–ç­‰äºæ¯ä¸ªå…ƒç´ çš„æœ€å¤§æ•´æ•°ï¼‰ã€‚    |

## ä¸€äº›ä¸€å…ƒé€šç”¨å‡½æ•°ï¼ˆç»­ï¼‰

| å‡½æ•°        | æè¿°                                                                                   |
|-----------------|-----------------------------------------------------------------------------------------------|
| `rint`          | å°†å…ƒç´ å››èˆäº”å…¥åˆ°æœ€æ¥è¿‘çš„æ•´æ•°ï¼Œä¿ç•™ dtypeã€‚                                 |
| `modf`          | å°†æ•°ç»„çš„å°æ•°éƒ¨åˆ†å’Œæ•´æ•°éƒ¨åˆ†ä½œä¸ºå•ç‹¬çš„æ•°ç»„è¿”å›ã€‚                           |
| `isnan`         | è¿”å›ä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼ŒæŒ‡ç¤ºæ¯ä¸ªå€¼æ˜¯å¦ä¸º NaNï¼ˆéæ•°å­—ï¼‰ã€‚                  |
| `isfinite`, `isinf` | è¿”å›ä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼ŒæŒ‡ç¤ºæ¯ä¸ªå…ƒç´ æ˜¯å¦æœ‰é™æˆ–æ— é™ã€‚  |

## ä¸€äº›ä¸€å…ƒé€šç”¨å‡½æ•°ï¼ˆç»­ï¼‰

| å‡½æ•°        | æè¿°                                                                                   |
|-----------------|-----------------------------------------------------------------------------------------------|
| `cos`, `cosh`, `sin`, `sinh`, `tan`, `tanh` | å¸¸è§„å’ŒåŒæ›²ä¸‰è§’å‡½æ•°ã€‚                                         |
| `arccos`, `arccosh`, `arcsin`, `arcsinh`, `arctan`, `arctanh` | åä¸‰è§’å‡½æ•°ã€‚                     |
| `logical_not`   | é€å…ƒç´ è®¡ç®— `not x` çš„çœŸå€¼ï¼ˆç›¸å½“äº `~arr`ï¼‰ã€‚                      |

## ä¸€äº›äºŒå…ƒé€šç”¨å‡½æ•°

| å‡½æ•°            | æè¿°                                                                                                |
|----------------------|------------------------------------------------------------------------------------------------------------|
| `add`                | å°†æ•°ç»„ä¸­çš„å¯¹åº”å…ƒç´ ç›¸åŠ ã€‚                                                                        |
| `subtract`           | ä»ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­å‡å»ç¬¬äºŒä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ã€‚                                                           |
| `multiply`           | å°†æ•°ç»„å…ƒç´ ç›¸ä¹˜ã€‚                                                                                  |
| `divide`, `floor_divide` | é™¤æ³•æˆ–å‘ä¸‹å–æ•´é™¤æ³•ï¼ˆæˆªæ–­ä½™æ•°ï¼‰ã€‚                                                  |

## ä¸€äº›äºŒå…ƒé€šç”¨å‡½æ•°ï¼ˆç»­ï¼‰

| å‡½æ•°            | æè¿°                                                                                                |
|----------------------|------------------------------------------------------------------------------------------------------------|
| `power`              | å°†ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ æå‡åˆ°ç¬¬äºŒä¸ªæ•°ç»„ä¸­æŒ‡ç¤ºçš„å¹‚ã€‚                                           |
| `maximum`, `fmax`     | é€å…ƒç´ æœ€å¤§å€¼ã€‚`fmax` å¿½ç•¥ NaNã€‚                                                                  |
| `minimum`, `fmin`     | é€å…ƒç´ æœ€å°å€¼ã€‚`fmin` å¿½ç•¥ NaNã€‚                                                                  |
| `mod`                | é€å…ƒç´ å–æ¨¡ï¼ˆé™¤æ³•çš„ä½™æ•°ï¼‰ã€‚                                                                |

## ä¸€äº›äºŒå…ƒé€šç”¨å‡½æ•°ï¼ˆç»­ï¼‰

| å‡½æ•°            | æè¿°                                                                                                |
|----------------------|------------------------------------------------------------------------------------------------------------|
| `copysign`           | å°†ç¬¬äºŒä¸ªå‚æ•°ä¸­çš„å€¼çš„ç¬¦å·å¤åˆ¶åˆ°ç¬¬ä¸€ä¸ªå‚æ•°ä¸­çš„å€¼ã€‚                                  |
| `greater`, `greater_equal`, `less`, `less_equal`, `equal`, `not_equal` | æ‰§è¡Œé€å…ƒç´ æ¯”è¾ƒï¼Œäº§ç”Ÿä¸€ä¸ªå¸ƒå°”æ•°ç»„ã€‚  |
| `logical_and`, `logical_or`, `logical_xor` | è®¡ç®—é€»è¾‘è¿ç®—çš„é€å…ƒç´ çœŸå€¼ã€‚                                                  |

## é¢å‘æ•°ç»„ç¼–ç¨‹ï¼šç¤ºä¾‹

è®©æˆ‘ä»¬è®¡ç®—å‡½æ•° âˆš(x^2 + y^2) åœ¨ä¸€ä¸ªå€¼ç½‘æ ¼ä¸Šçš„ç»“æœï¼š

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
points = np.arange(-5, 5, 0.01)  # 1000 ä¸ªç­‰è·ç‚¹
xs, ys = np.meshgrid(points, points)  # åˆ›å»ºåæ ‡çŸ©é˜µ
z = np.sqrt(xs ** 2 + ys ** 2)      # è®¡ç®—å‡½æ•°
```

## é¢å‘æ•°ç»„ç¼–ç¨‹ï¼šå¯è§†åŒ–

ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ Matplotlib å¯è§†åŒ–ç»“æœï¼š

```{python}
#| echo: true
#| output-location: slide
import matplotlib.pyplot as plt  # å¯¼å…¥ Matplotlib
plt.imshow(z, cmap=plt.cm.gray, extent=[-5, 5, -5, 5])  # æ˜¾ç¤ºå›¾åƒ
plt.colorbar()  # æ·»åŠ é¢œè‰²æ¡
plt.title("Image plot of $\sqrt{x^2 + y^2}$ for a grid of values")  # è®¾ç½®æ ‡é¢˜
# plt.close('all') # å¦‚æœæ‚¨ä¸æƒ³ç«‹å³æ˜¾ç¤ºå›¾å½¢ï¼Œå¯ä»¥å–æ¶ˆæ³¨é‡Šæ­¤è¡Œ
plt.show() # æ˜¾ç¤ºç»˜å›¾ç»“æœ
```

æ­¤ç¤ºä¾‹æ¼”ç¤ºäº†é¢å‘æ•°ç»„ç¼–ç¨‹çš„ç®€æ´å’Œé«˜æ•ˆã€‚

## è¡¨è¾¾æ¡ä»¶é€»è¾‘ï¼š`np.where`

- **`np.where`:** ä¸‰å…ƒè¡¨è¾¾å¼ `x if condition else y` çš„å‘é‡åŒ–ç‰ˆæœ¬ã€‚

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
xarr = np.array([1.1, 1.2, 1.3, 1.4, 1.5])  # åˆ›å»ºæ•°ç»„ xarr
yarr = np.array([2.1, 2.2, 2.3, 2.4, 2.5])  # åˆ›å»ºæ•°ç»„ yarr
cond = np.array([True, False, True, True, False])  # åˆ›å»ºæ¡ä»¶æ•°ç»„

result = np.where(cond, xarr, yarr)  # å¦‚æœ cond ä¸º Trueï¼Œåˆ™é€‰æ‹© xarr ä¸­çš„å…ƒç´ ï¼Œå¦åˆ™é€‰æ‹© yarr ä¸­çš„å…ƒç´ 
print(result)  # æ‰“å°ç»“æœ
```

## è¡¨è¾¾æ¡ä»¶é€»è¾‘ï¼š`np.where`ï¼ˆç¤ºä¾‹ï¼‰

- **ç¤ºä¾‹:** å°†æ•°ç»„ä¸­çš„æ­£å€¼æ›¿æ¢ä¸º 2ï¼Œå°†è´Ÿå€¼æ›¿æ¢ä¸º -2ï¼š

```{python}
#| echo: true
rng = np.random.default_rng(seed=12345)  # åˆ›å»ºéšæœºæ•°ç”Ÿæˆå™¨
arr = rng.standard_normal((4, 4))  # åˆ›å»ºä¸€ä¸ª 4x4 çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒæ•°ç»„
result = np.where(arr > 0, 2, -2)  # å°†å¤§äº 0 çš„å…ƒç´ æ›¿æ¢ä¸º 2ï¼Œå°äº 0 çš„å…ƒç´ æ›¿æ¢ä¸º -2
print(result)  # æ‰“å°ç»“æœ
```

## æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•

NumPy æä¾›äº†ä¸€ç»„ç”¨äºè®¡ç®—æ•°ç»„ç»Ÿè®¡ä¿¡æ¯çš„æ–¹æ³•ï¼š

```{python}
#| echo: true
rng = np.random.default_rng(seed=12345)  # åˆ›å»ºéšæœºæ•°ç”Ÿæˆå™¨
arr = rng.standard_normal((5, 4))  # åˆ›å»ºä¸€ä¸ª 5x4 çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒæ•°ç»„
print(arr.mean())       # æ‰€æœ‰å…ƒç´ çš„å¹³å‡å€¼
print(np.mean(arr))    # ç­‰åŒäº arr.mean()
print(arr.sum())        # æ‰€æœ‰å…ƒç´ çš„æ€»å’Œ
```

## æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•ï¼šè½´å‚æ•°

- **è½´å‚æ•°:** è®¸å¤šæ–¹æ³•é‡‡ç”¨å¯é€‰çš„ `axis` å‚æ•°æ¥è®¡ç®—æ²¿ç‰¹å®šè½´çš„ç»Ÿè®¡ä¿¡æ¯ï¼š

```{python}
#| echo: true
print(arr.mean(axis=1))  # æ²¿åˆ—è®¡ç®—å¹³å‡å€¼ï¼ˆå¯¹äºæ¯ä¸€è¡Œï¼‰
print(arr.sum(axis=0))   # æ²¿è¡Œè®¡ç®—æ€»å’Œï¼ˆå¯¹äºæ¯ä¸€åˆ—ï¼‰
```

## æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•ï¼š`cumsum` å’Œ `cumprod`

-   **`cumsum` å’Œ `cumprod`:** è®¡ç®—ç´¯ç§¯å’Œå’Œç´¯ç§¯ç§¯ï¼š

```{python}
#| echo: true
arr = np.array([0, 1, 2, 3, 4, 5, 6, 7])  # åˆ›å»ºä¸€ä¸ªæ•°ç»„
print(arr.cumsum())  # è®¡ç®—ç´¯ç§¯å’Œ
```

## åŸºæœ¬æ•°ç»„ç»Ÿè®¡æ–¹æ³•

| æ–¹æ³•             | æè¿°                                                                               |
|----------------------|-------------------------------------------------------------------------------------------|
| `sum`                | æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æˆ–æ²¿è½´çš„å…ƒç´ æ€»å’Œï¼›é›¶é•¿åº¦æ•°ç»„çš„æ€»å’Œä¸º 0ã€‚    |
| `mean`               | ç®—æœ¯å¹³å‡å€¼ï¼›å¯¹äºé›¶é•¿åº¦æ•°ç»„æ— æ•ˆï¼ˆè¿”å› NaNï¼‰ã€‚                           |
| `std`, `var`         | åˆ†åˆ«ä¸ºæ ‡å‡†å·®å’Œæ–¹å·®ã€‚                                            |

## åŸºæœ¬æ•°ç»„ç»Ÿè®¡æ–¹æ³•ï¼ˆç»­ï¼‰

| æ–¹æ³•             | æè¿°                                                                               |
|----------------------|-------------------------------------------------------------------------------------------|
| `min`,`max`          | æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚                                                                      |
| `argmin`, `argmax` | åˆ†åˆ«ä¸ºæœ€å°å’Œæœ€å¤§å…ƒç´ çš„ç´¢å¼•ã€‚                                   |
| `cumsum`             | ä» 0 å¼€å§‹çš„å…ƒç´ ç´¯ç§¯å’Œã€‚                                               |
| `cumprod`            | ä» 1 å¼€å§‹çš„å…ƒç´ ç´¯ç§¯ç§¯ã€‚                                             |

## å¸ƒå°”æ•°ç»„çš„æ–¹æ³•ï¼šå¸ƒå°”å€¼æ±‚å’Œ

- **å¸ƒå°”å€¼ `sum`:** `True` å€¼è¢«è§†ä¸º 1ï¼Œ`False` å€¼è¢«è§†ä¸º 0ã€‚ç”¨äºè®¡ç®— `True` å€¼çš„æ•°é‡ã€‚

```{python}
#| echo: true
rng = np.random.default_rng(seed=12345)  # åˆ›å»ºéšæœºæ•°ç”Ÿæˆå™¨
arr = rng.standard_normal(100)  # åˆ›å»ºä¸€ä¸ªåŒ…å« 100 ä¸ªæ ‡å‡†æ­£æ€åˆ†å¸ƒå€¼çš„æ•°ç»„
print((arr > 0).sum())  # è®¡ç®—æ­£å€¼çš„æ•°é‡
```

## å¸ƒå°”æ•°ç»„çš„æ–¹æ³•ï¼š`any` å’Œ `all`

- **`any` å’Œ `all`:**
  - `any`: æ£€æŸ¥å¸ƒå°”æ•°ç»„ä¸­æ˜¯å¦*è‡³å°‘æœ‰ä¸€ä¸ª*å€¼ä¸º `True`ã€‚
  - `all`: æ£€æŸ¥å¸ƒå°”æ•°ç»„ä¸­æ˜¯å¦*æ‰€æœ‰*å€¼éƒ½ä¸º `True`ã€‚

```{python}
#| echo: true
bools = np.array([False, False, True, False])  # åˆ›å»ºä¸€ä¸ªå¸ƒå°”æ•°ç»„
print(bools.any())  # æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ª Trueï¼Ÿ
print(bools.all())  # æ˜¯å¦æ‰€æœ‰å€¼éƒ½ä¸º Trueï¼Ÿ
```

## æ’åºï¼š`sort` æ–¹æ³•

- **`sort` æ–¹æ³•:** *å°±åœ°*å¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚

```{python}
#| echo: true
rng = np.random.default_rng(seed=12345)  # åˆ›å»ºéšæœºæ•°ç”Ÿæˆå™¨
arr = rng.standard_normal(6) #åˆ›å»ºä¸€ä¸ªåŒ…å«6ä¸ªæ ‡å‡†æ­£æ€åˆ†å¸ƒå…ƒç´ çš„æ•°ç»„
arr.sort()  # å°±åœ°å¯¹æ•°ç»„è¿›è¡Œæ’åº
print(arr)  # æ‰“å°æ’åºåçš„æ•°ç»„
```

## æ’åºï¼šæ²¿è½´æ’åº

```{python}
#| echo: true
rng = np.random.default_rng(seed=12345)  # åˆ›å»ºéšæœºæ•°ç”Ÿæˆå™¨
arr = rng.standard_normal((5, 3))   # åˆ›å»ºä¸€ä¸ª 5x3 çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒæ•°ç»„
arr.sort(axis=0)  # åœ¨æ¯ä¸€åˆ—å†…æ’åº
print(arr)  # æ‰“å°æ’åºåçš„æ•°ç»„
```

## æ’åºï¼šæ²¿è½´æ’åºï¼ˆç»­ï¼‰

```{python}
#| echo: true
arr.sort(axis=1) # åœ¨æ¯ä¸€è¡Œå†…æ’åº
print(arr)  # æ‰“å°æ’åºåçš„æ•°ç»„
```

- **`np.sort` å‡½æ•°:** è¿”å›æ•°ç»„çš„*æ’åºå‰¯æœ¬*ï¼ˆä¸ä¿®æ”¹åŸå§‹æ•°ç»„ï¼‰ã€‚

## å”¯ä¸€å€¼å’Œå…¶ä»–é›†åˆé€»è¾‘ï¼š`np.unique`

- **`np.unique`:** è¿”å›æ•°ç»„ä¸­å·²æ’åºçš„å”¯ä¸€å€¼ã€‚

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
names = np.array(['Bob', 'Will', 'Joe', 'Bob', 'Will', 'Joe', 'Joe'])  # åˆ›å»ºä¸€ä¸ªåŒ…å«åå­—çš„æ•°ç»„
print(np.unique(names)) # è·å–å”¯ä¸€çš„åå­—
```

## å”¯ä¸€å€¼å’Œå…¶ä»–é›†åˆé€»è¾‘ï¼š`np.in1d`

- **`np.in1d`:** æµ‹è¯•ä¸€ä¸ªæ•°ç»„ä¸­çš„å€¼æ˜¯å¦åœ¨å¦ä¸€ä¸ªæ•°ç»„ä¸­ã€‚

```{python}
#| echo: true
values = np.array([6, 0, 0, 3, 2, 5, 6])  # åˆ›å»ºä¸€ä¸ªæ•°ç»„
print(np.in1d(values, [2, 3, 6]))  # æ£€æŸ¥ 'values' ä¸­çš„æ¯ä¸ªå€¼æ˜¯å¦åœ¨ [2, 3, 6] ä¸­
```

## æ•°ç»„é›†åˆæ“ä½œ

| æ–¹æ³•         | æè¿°                                                                     |
|-----------------|---------------------------------------------------------------------------------|
| `unique(x)`     | è®¡ç®— x ä¸­å·²æ’åºçš„å”¯ä¸€å…ƒç´ ã€‚                                     |
| `intersect1d(x, y)` | è®¡ç®— x å’Œ y ä¸­å·²æ’åºçš„å…¬å…±å…ƒç´ ã€‚                            |

## æ•°ç»„é›†åˆæ“ä½œï¼ˆç»­ï¼‰

| æ–¹æ³•         | æè¿°                                                                     |
|-----------------|---------------------------------------------------------------------------------|
| `union1d(x, y)`    | è®¡ç®—å…ƒç´ çš„æ’åºå¹¶é›†ã€‚                                         |
| `in1d(x, y)`       | è®¡ç®—ä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼ŒæŒ‡ç¤º x çš„æ¯ä¸ªå…ƒç´ æ˜¯å¦åœ¨ y ä¸­ã€‚        |

## æ•°ç»„é›†åˆæ“ä½œï¼ˆç»­ï¼‰

| æ–¹æ³•         | æè¿°                                                                     |
|-----------------|---------------------------------------------------------------------------------|
| `setdiff1d(x, y)`  | é›†åˆå·®ï¼šåœ¨ x ä¸­ä½†ä¸åœ¨ y ä¸­çš„å…ƒç´ ã€‚                             |
| `setxor1d(x, y)`   | é›†åˆå¯¹ç§°å·®ï¼›åœ¨ä»»ä¸€æ•°ç»„ä¸­ä½†ä¸åŒæ—¶åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ã€‚ |

## æ•°ç»„çš„æ–‡ä»¶è¾“å…¥å’Œè¾“å‡ºï¼š`np.save` å’Œ `np.load`

- **`np.save` å’Œ `np.load`:** ç”¨äºä»¥ NumPy çš„äºŒè¿›åˆ¶æ ¼å¼ (`.npy`) ä¿å­˜å’ŒåŠ è½½æ•°ç»„çš„å‡½æ•°ã€‚

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
arr = np.arange(10)  # åˆ›å»ºä¸€ä¸ªæ•°ç»„
np.save('some_array', arr)  # ä¿å­˜åˆ° 'some_array.npy'
loaded_arr = np.load('some_array.npy')  # ä» 'some_array.npy' åŠ è½½
print(loaded_arr)  # æ‰“å°åŠ è½½çš„æ•°ç»„
```

## æ•°ç»„çš„æ–‡ä»¶è¾“å…¥å’Œè¾“å‡ºï¼š`np.savez`

-   **`np.savez`:** å°†å¤šä¸ªæ•°ç»„ä¿å­˜åˆ°ä¸€ä¸ªæœªå‹ç¼©çš„å­˜æ¡£ (`.npz`) ä¸­ã€‚

```{python}
#| echo: true
np.savez('array_archive.npz', a=arr, b=arr)  # ä¿å­˜å¤šä¸ªæ•°ç»„
arch = np.load('array_archive.npz')        # åŠ è½½å­˜æ¡£
print(arch['b'])  # æŒ‰åç§°è®¿é—®æ•°ç»„
```

-   **`np.savez_compressed`:** å°†å¤šä¸ªæ•°ç»„ä¿å­˜åˆ°ä¸€ä¸ª*å‹ç¼©*å­˜æ¡£ä¸­ã€‚

## çº¿æ€§ä»£æ•°ï¼šçŸ©é˜µä¹˜æ³•

-   **`numpy.linalg` æ¨¡å—:** æä¾›ç”¨äºçº¿æ€§ä»£æ•°è¿ç®—çš„å‡½æ•°ã€‚

-   **çŸ©é˜µä¹˜æ³•:**

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
x = np.array([[1., 2., 3.], [4., 5., 6.]])  # åˆ›å»ºæ•°ç»„ x
y = np.array([[6., 23.], [-1, 7], [8, 9]])  # åˆ›å»ºæ•°ç»„ y
print(x.dot(y))        # çŸ©é˜µä¹˜æ³•ï¼ˆæ–¹æ³•ï¼‰
print(np.dot(x, y))    # çŸ©é˜µä¹˜æ³•ï¼ˆå‡½æ•°ï¼‰
print( x @ np.ones(3)) # ä½¿ç”¨ @ è¿ç®—ç¬¦è¿›è¡ŒçŸ©é˜µä¹˜æ³•
```

## çº¿æ€§ä»£æ•°ï¼šé€†å’Œè¡Œåˆ—å¼

-   **é€†å’Œè¡Œåˆ—å¼:**

```{python}
#| echo: true
from numpy.linalg import inv, qr  # ä» numpy.linalg å¯¼å…¥ inv å’Œ qr
rng = np.random.default_rng(seed=12345)  # åˆ›å»ºéšæœºæ•°ç”Ÿæˆå™¨
X = rng.standard_normal((5, 5))  # åˆ›å»ºä¸€ä¸ª 5x5 çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒæ•°ç»„
mat = X.T @ X  # è®¡ç®— X çš„è½¬ç½®ä¸ X çš„ä¹˜ç§¯
print(inv(mat))   # è®¡ç®—çŸ©é˜µçš„é€†
```

## å¸¸ç”¨çš„ `numpy.linalg` å‡½æ•°

| å‡½æ•°     | æè¿°                                                                                           |
|--------------|-------------------------------------------------------------------------------------------------------|
| `diag`       | å°†æ–¹é˜µçš„å¯¹è§’çº¿ï¼ˆæˆ–éå¯¹è§’çº¿ï¼‰å…ƒç´ ä½œä¸ºä¸€ç»´æ•°ç»„è¿”å›ï¼Œæˆ–å°†ä¸€ç»´æ•°ç»„è½¬æ¢ä¸ºæ–¹é˜µã€‚|
| `dot`        | çŸ©é˜µä¹˜æ³•ã€‚                                                                              |
| `trace`      | è®¡ç®—å¯¹è§’çº¿å…ƒç´ çš„æ€»å’Œã€‚                                                           |

## å¸¸ç”¨çš„ `numpy.linalg` å‡½æ•°ï¼ˆç»­ï¼‰

| å‡½æ•°     | æè¿°                                                                                           |
|--------------|-------------------------------------------------------------------------------------------------------|
| `det`        | è®¡ç®—çŸ©é˜µè¡Œåˆ—å¼ã€‚                                                                     |
| `eig`        | è®¡ç®—æ–¹é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ã€‚                                         |
| `inv`        | è®¡ç®—æ–¹é˜µçš„é€†ã€‚                                                             |

## å¸¸ç”¨çš„ `numpy.linalg` å‡½æ•°ï¼ˆç»­ï¼‰

| å‡½æ•°     | æè¿°                                                                                           |
|--------------|-------------------------------------------------------------------------------------------------------|
| `pinv`       | è®¡ç®—çŸ©é˜µçš„ Moore-Penrose ä¼ªé€†ã€‚                                                |
| `qr`         | è®¡ç®— QR åˆ†è§£ã€‚                                                                     |
| `svd`        | è®¡ç®—å¥‡å¼‚å€¼åˆ†è§£ (SVD)ã€‚                                                     |

## å¸¸ç”¨çš„ `numpy.linalg` å‡½æ•°ï¼ˆç»­ï¼‰

| å‡½æ•°     | æè¿°                                                                                           |
|--------------|-------------------------------------------------------------------------------------------------------|
| `solve`      | æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ Ax = bï¼Œå…¶ä¸­ A æ˜¯æ–¹é˜µã€‚                                 |
| `lstsq`      | è®¡ç®— Ax = b çš„æœ€å°äºŒä¹˜è§£ã€‚                                                      |

## ç¤ºä¾‹ï¼šéšæœºæ¸¸èµ°

è®©æˆ‘ä»¬ä½¿ç”¨ NumPy æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„éšæœºæ¸¸èµ°ï¼š

```{python}
#| echo: true
import numpy as np  # å¯¼å…¥ NumPy
nsteps = 1000  # è®¾ç½®æ­¥æ•°
rng = np.random.default_rng(seed=12345)  # åˆ›å»ºéšæœºæ•°ç”Ÿæˆå™¨
draws = rng.integers(0, 2, size=nsteps)  # ç”Ÿæˆ 0 å’Œ 1ï¼ˆç¡¬å¸æŠ•æ·ï¼‰
steps = np.where(draws == 0, 1, -1)      # å°† 0 è½¬æ¢ä¸º 1ï¼Œ1 è½¬æ¢ä¸º -1
walk = steps.cumsum()                    # è®¡ç®—ç´¯ç§¯å’Œï¼ˆæ¸¸èµ°ï¼‰
```

## ç¤ºä¾‹ï¼šéšæœºæ¸¸èµ°ï¼ˆå¯è§†åŒ–ï¼‰

ç®€å•éšæœºæ¸¸èµ°çš„å‰ 100 æ­¥ï¼š

```{python}
#| echo: true
#| output-location: slide
import matplotlib.pyplot as plt  # å¯¼å…¥ Matplotlib
plt.plot(walk[:100])  # ç»˜åˆ¶å‰ 100 æ­¥
plt.show() # æ˜¾ç¤ºç»˜å›¾
```

## éšæœºæ¸¸èµ°ï¼šåˆ†æ

æˆ‘ä»¬å¯ä»¥åˆ†æéšæœºæ¸¸èµ°ï¼š

```{python}
#| echo: true
print(walk.min())  # æœ€å°å€¼
print(walk.max())  # æœ€å¤§å€¼
```

## éšæœºæ¸¸èµ°ï¼šé¦–æ¬¡ç©¿è¶Šæ—¶é—´

- **é¦–æ¬¡ç©¿è¶Šæ—¶é—´:** æ¸¸èµ°è¾¾åˆ°ç‰¹å®šå€¼çš„æ­¥æ•°ã€‚

```{python}
#| echo: true
print((np.abs(walk) >= 10).argmax())  # æ‰¾åˆ°ç»å¯¹å€¼ >= 10 çš„ç¬¬ä¸€æ­¥
```
åœ¨è¿™é‡Œä½¿ç”¨ `argmax` å¹¶ä¸æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œå› ä¸ºå®ƒæ€»æ˜¯å¯¹æ•°ç»„è¿›è¡Œå…¨é¢æ‰«æã€‚åœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¸€æ—¦è§‚å¯Ÿåˆ° `True`ï¼Œæˆ‘ä»¬å°±çŸ¥é“å®ƒæ˜¯æœ€å¤§å€¼ã€‚

## ä¸€æ¬¡æ¨¡æ‹Ÿå¤šä¸ªéšæœºæ¸¸èµ°

æˆ‘ä»¬å¯ä»¥é«˜æ•ˆåœ°ä¸€æ¬¡æ¨¡æ‹Ÿå¤šä¸ªéšæœºæ¸¸èµ°ï¼š

```{python}
#| echo: true
nwalks = 5000  # è®¾ç½®æ¸¸èµ°æ¬¡æ•°
nsteps = 1000  # è®¾ç½®æ­¥æ•°
rng = np.random.default_rng(seed=12345)  # åˆ›å»ºéšæœºæ•°ç”Ÿæˆå™¨
draws = rng.integers(0, 2, size=(nwalks, nsteps))  # ä¸ºæ‰€æœ‰æ¸¸èµ°ç”Ÿæˆéšæœºæ•°
steps = np.where(draws > 0, 1, -1)  # å°† 0 è½¬æ¢ä¸º 1ï¼Œ1 è½¬æ¢ä¸º -1
walks = steps.cumsum(axis=1)                     # è®¡ç®—æ¯ä¸ªæ¸¸èµ°çš„ç´¯ç§¯å’Œ
```

## æ¨¡æ‹Ÿå¤šä¸ªéšæœºæ¸¸èµ°ï¼šå¹³å‡ç©¿è¶Šæ—¶é—´

ç„¶åï¼Œä¾‹å¦‚ï¼Œè®¡ç®—å¹³å‡æœ€å°ç©¿è¶Šæ—¶é—´ï¼š

```{python}
#| echo: true
hits30 = (np.abs(walks) >= 30).any(axis=1)  # æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•æ¸¸èµ°è¾¾åˆ° 30 æˆ– -30
crossing_times = (np.abs(walks[hits30]) >= 30).argmax(axis=1)  # è®¡ç®—è¾¾åˆ° 30 æˆ– -30 çš„æ­¥æ•°
print(crossing_times.mean())  # è®¡ç®—å¹³å‡ç©¿è¶Šæ—¶é—´
```

è¿™ç§å‘é‡åŒ–æ–¹æ³•éœ€è¦åˆ›å»ºä¸€ä¸ªåŒ…å« nwalks * nsteps ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œè¿™å¯èƒ½ä¼šåœ¨å¤§å‹æ¨¡æ‹Ÿä¸­ä½¿ç”¨å¤§é‡å†…å­˜ã€‚å¦‚æœå†…å­˜æ›´å—é™åˆ¶ï¼Œåˆ™éœ€è¦é‡‡ç”¨ä¸åŒçš„æ–¹æ³•ã€‚

## æ€»ç»“

- **NumPy çš„å¼ºå¤§ä¹‹å¤„:** NumPy å‡­å€Ÿå…¶é«˜æ•ˆçš„ `ndarray` å’Œå‘é‡åŒ–æ“ä½œï¼Œä¸º Python ä¸­çš„æ•°å€¼è®¡ç®—æä¾›äº†å¼ºå¤§çš„åŸºç¡€ã€‚

- **å…³é”®æ¦‚å¿µ:**
  - `ndarray`: å…·æœ‰åŒè´¨æ•°æ®çš„å¤šç»´æ•°ç»„ã€‚
  - `dtype`: æ•°ç»„å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚
  - å‘é‡åŒ–: å¯¹æ•´ä¸ªæ•°ç»„æ‰§è¡Œæ“ä½œï¼Œæ— éœ€å¾ªç¯ã€‚
  - å¹¿æ’­: å¯¹ä¸åŒå½¢çŠ¶çš„æ•°ç»„è¿›è¡Œç®—æœ¯è¿ç®—ã€‚

## æ€»ç»“ï¼ˆç»­ï¼‰

-   **å…³é”®æ¦‚å¿µï¼ˆç»­ï¼‰:**
    -   ç´¢å¼•å’Œåˆ‡ç‰‡: è®¿é—®å’Œä¿®æ”¹æ•°ç»„å…ƒç´ å’Œå­æ•°ç»„ã€‚
    -   èŠ±å¼ç´¢å¼•: ä½¿ç”¨æ•´æ•°æ•°ç»„è¿›è¡Œç´¢å¼•ã€‚
    -   è½¬ç½®: é‡æ–°æ’åˆ—æ•°æ®ã€‚
    -   ufuncs: å¿«é€Ÿçš„é€å…ƒç´ å‡½æ•°ã€‚
    -   `numpy.random`: ç”Ÿæˆéšæœºæ•°æ•°ç»„ã€‚
    -   çº¿æ€§ä»£æ•°

-   **æ•ˆç‡:** NumPy ä¸“ä¸ºæ€§èƒ½è€Œè®¾è®¡ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§å‹æ•°æ®é›†æ—¶ã€‚

## æ€è€ƒä¸è®¨è®º ğŸ¤”

- NumPy ä¸­å‘é‡åŒ–çš„æ¦‚å¿µä¸æ‚¨å¯èƒ½åœ¨æ‚¨äº†è§£çš„å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­æ‰§è¡Œç±»ä¼¼æ“ä½œçš„æ–¹å¼ç›¸æ¯”å¦‚ä½•ï¼Ÿ

- æ‚¨èƒ½æƒ³åˆ°å“ªäº›å…·ä½“çš„æ•°æ®åˆ†æä»»åŠ¡ï¼Œå…¶ä¸­ NumPy çš„é¢å‘æ•°ç»„æ–¹æ³•æ¯”ä½¿ç”¨ Python åˆ—è¡¨å’Œå¾ªç¯æ›´æœ‰æ•ˆï¼Ÿ

- NumPy æ•°ç»„åˆ‡ç‰‡æ˜¯*è§†å›¾*è€Œä¸æ˜¯å‰¯æœ¬ï¼Œæœ‰å“ªäº›ä¼˜ç‚¹å’Œæ½œåœ¨ç¼ºç‚¹ï¼Ÿä»€ä¹ˆæ—¶å€™å¯èƒ½éœ€è¦æ˜¾å¼åˆ›å»ºå‰¯æœ¬ï¼Ÿ

## æ€è€ƒä¸è®¨è®º ğŸ¤”ï¼ˆç»­ï¼‰

- è€ƒè™‘ `np.where` å‡½æ•°ã€‚æ‚¨å¦‚ä½•ä½¿ç”¨å®ƒæ¥å®ç°æ¯”æˆ‘ä»¬çœ‹åˆ°çš„ç®€å•ç¤ºä¾‹æ›´å¤æ‚çš„æ¡ä»¶é€»è¾‘ï¼Ÿ

- ä¸ºä»€ä¹ˆç†è§£ NumPy çš„æ•°æ®ç±»å‹ (`dtypes`) å¾ˆé‡è¦ï¼Ÿå®ƒä»¬å¦‚ä½•å½±å“æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨ï¼Ÿ

- è®¨è®ºæ‚¨å¯èƒ½ä½¿ç”¨ NumPy çº¿æ€§ä»£æ•°å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œ`dot`ã€`inv`ã€`eig`ï¼‰çš„åœºæ™¯ã€‚


:::{.notes}



## **å¯¹æ€è€ƒé¢˜çš„æ›´æ·±å…¥è§£ç­”**

1.  **å‘é‡åŒ–ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„æ¯”è¾ƒ:**

    *   è®¸å¤šç¼–ç¨‹è¯­è¨€éƒ½æœ‰ç±»ä¼¼å‘é‡åŒ–æ“ä½œçš„æ¦‚å¿µã€‚ä¾‹å¦‚ï¼ŒMATLAB çš„æ ¸å¿ƒå°±æ˜¯çŸ©é˜µè¿ç®—ï¼ŒR è¯­è¨€ä¹Ÿ heavily relies on å‘é‡åŒ–ã€‚
    *   ä¸ C/C++ ç­‰åº•å±‚è¯­è¨€ç›¸æ¯”,NumPy æä¾›äº†æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ã€‚åœ¨ C/C++ ä¸­ï¼Œæ‚¨å¯èƒ½éœ€è¦æ‰‹åŠ¨ç¼–å†™å¾ªç¯æ¥å¤„ç†æ•°ç»„ï¼Œå¹¶ç®¡ç†å†…å­˜åˆ†é…ã€‚NumPy å¤„ç†äº†è¿™äº›åº•å±‚ç»†èŠ‚ï¼Œè®©æ‚¨ä¸“æ³¨äºè§£å†³é—®é¢˜ã€‚
    *   ä¸ Java ç­‰è¯­è¨€ç›¸æ¯”ï¼ŒNumPy æ›´åŠ çµæ´»ï¼Œå› ä¸º Python æ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œè€ŒJavaæ˜¯é™æ€ç±»å‹è¯­è¨€ã€‚åœ¨æ•°æ®åˆ†æå’Œç§‘å­¦è®¡ç®—é¢†åŸŸï¼Œè¿™æä¾›äº†æ›´å¤§çš„ä¾¿åˆ©æ€§ã€‚

2.  **NumPy æ›´é«˜æ•ˆçš„ä»»åŠ¡ç¤ºä¾‹:**

    *   **å›¾åƒå¤„ç†:** å›¾åƒæœ¬è´¨ä¸Šæ˜¯å¤šç»´æ•°ç»„ã€‚NumPy å¯ä»¥é«˜æ•ˆåœ°æ‰§è¡Œå›¾åƒçš„è£å‰ªã€ç¼©æ”¾ã€é¢œè‰²è½¬æ¢ã€æ»¤æ³¢ç­‰æ“ä½œã€‚
    *   **ä¿¡å·å¤„ç†:** NumPy å¯ä»¥ç”¨äºéŸ³é¢‘ã€è§†é¢‘ç­‰ä¿¡å·çš„åˆ†æå’Œå¤„ç†ï¼Œå¦‚å‚…é‡Œå¶å˜æ¢ã€æ»¤æ³¢ç­‰ã€‚
    *   **æ•°å€¼æ¨¡æ‹Ÿ:** è®¸å¤šç§‘å­¦å’Œå·¥ç¨‹é¢†åŸŸçš„æ•°å€¼æ¨¡æ‹Ÿéƒ½æ¶‰åŠå¤§é‡çš„çŸ©é˜µå’Œå‘é‡è¿ç®—ï¼ŒNumPy æ˜¯ç†æƒ³çš„é€‰æ‹©ã€‚
    *   **æœºå™¨å­¦ä¹ :** NumPy æ˜¯è®¸å¤šæœºå™¨å­¦ä¹ åº“çš„åŸºç¡€ï¼Œç”¨äºè¡¨ç¤ºæ•°æ®ã€æ‰§è¡Œæ¨¡å‹è®­ç»ƒä¸­çš„è®¡ç®—ç­‰ã€‚
    *   **é‡‘èå»ºæ¨¡:** NumPy å¯ä»¥ç”¨äºå¤„ç†æ—¶é—´åºåˆ—æ•°æ®ã€è®¡ç®—ç»Ÿè®¡æŒ‡æ ‡ã€æ„å»ºé‡‘èæ¨¡å‹ç­‰ã€‚

3.  **è§†å›¾ vs. å‰¯æœ¬:**

    *   **ä¼˜ç‚¹ (è§†å›¾):**
        *   **èŠ‚çœå†…å­˜:** è§†å›¾ä¸ä¼šå¤åˆ¶æ•°æ®ï¼Œå› æ­¤åœ¨å¤„ç†å¤§å‹æ•°ç»„æ—¶å¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ã€‚
        *   **æ•ˆç‡:** å¯¹è§†å›¾çš„ä¿®æ”¹ä¼šåæ˜ åˆ°åŸå§‹æ•°ç»„ï¼Œé¿å…äº†ä¸å¿…è¦çš„æ•°æ®å¤åˆ¶ã€‚
    *   **ç¼ºç‚¹ (è§†å›¾):**
        *   **æ„å¤–ä¿®æ”¹:** å¦‚æœä¸å°å¿ƒä¿®æ”¹äº†è§†å›¾ï¼Œå¯èƒ½ä¼šæ„å¤–åœ°ä¿®æ”¹åŸå§‹æ•°ç»„ï¼Œå¯¼è‡´éš¾ä»¥è°ƒè¯•çš„é”™è¯¯ã€‚
    *   **ä½•æ—¶éœ€è¦å‰¯æœ¬:**
        *   å½“æ‚¨éœ€è¦ç‹¬ç«‹ä¿®æ”¹æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸å½±å“åŸå§‹æ•°ç»„æ—¶ã€‚
        *   å½“æ‚¨éœ€è¦å°†æ•°ç»„ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”ä¸å¸Œæœ›è¯¥å‡½æ•°ä¿®æ”¹åŸå§‹æ•°ç»„æ—¶ã€‚
     *   **åˆ›å»ºå‰¯æœ¬çš„æ–¹æ³•ï¼š**

```{python}
#| eval: false

arr_copy = arr[5:8].copy()
```         

4.  **`np.where` å®ç°æ›´å¤æ‚çš„æ¡ä»¶é€»è¾‘:**

    *   **åµŒå¥— `np.where`:**

```{python}
#| eval: false

# å¤šä¸ªæ¡ä»¶
result = np.where(cond1, value1, np.where(cond2, value2, value3))
```        

    *   **ç»“åˆå¸ƒå°”è¿ç®—ç¬¦:**

```{python}
#| eval: false

# ä½¿ç”¨ & (and), | (or), ~ (not)
result = np.where((arr > 0) & (arr < 10), arr * 2, arr / 2)
```        

5.  **`dtypes` çš„é‡è¦æ€§:**

    *   **å†…å­˜ä¼˜åŒ–:** é€‰æ‹©åˆé€‚çš„ `dtype` å¯ä»¥æ˜¾è‘—å‡å°‘å†…å­˜å ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„æ•°æ®éƒ½æ˜¯ 0 åˆ° 255 ä¹‹é—´çš„æ•´æ•°ï¼Œä½¿ç”¨ `uint8` æ¯”ä½¿ç”¨ `int64` å¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ã€‚
    *   **ç²¾åº¦æ§åˆ¶:** å¯¹äºæµ®ç‚¹æ•°ï¼Œé€‰æ‹© `float32` æˆ– `float64` å–å†³äºæ‚¨éœ€è¦çš„ç²¾åº¦ã€‚
    *   **ä¸åº•å±‚ä»£ç äº¤äº’:** å½“ä¸ C/C++ ä»£ç äº¤äº’æ—¶ï¼Œæ­£ç¡®é€‰æ‹© `dtype` éå¸¸é‡è¦ï¼Œä»¥ç¡®ä¿æ•°æ®ç±»å‹åŒ¹é…ã€‚
    * **é˜²æ­¢æº¢å‡º:** å¦‚æœæ²¡æœ‰é€‰æ‹©åˆé€‚çš„`dtype`, åœ¨è®¡ç®—ä¸­å¯èƒ½ä¼šäº§ç”Ÿä¸Šæº¢å‡ºæˆ–è€…ä¸‹æº¢å‡ºï¼Œå¯¼è‡´è®¡ç®—ç»“æœé”™è¯¯ã€‚

6.  **çº¿æ€§ä»£æ•°åº”ç”¨åœºæ™¯:**

    *   **æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„:** `np.linalg.solve`
    *   **è®¡ç®—ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡:** `np.linalg.eig` (ç”¨äºä¸»æˆåˆ†åˆ†æç­‰)
    *   **çŸ©é˜µåˆ†è§£:** `np.linalg.svd`, `np.linalg.qr` (ç”¨äºé™ç»´ã€æ¨èç³»ç»Ÿç­‰)
    *   **è®¡ç®—è¡Œåˆ—å¼:** `np.linalg.det` (ç”¨äºåˆ¤æ–­çŸ©é˜µæ˜¯å¦å¯é€†)
    * **æœ€å°äºŒä¹˜æ‹Ÿåˆ** : `np.linalg.lstsq`

**æœªæ¥å­¦ä¹ æ–¹å‘**

*   **æŒæ¡ NumPy çš„é«˜çº§åŠŸèƒ½:**
    *   **å¹¿æ’­ (Broadcasting):** æ·±å…¥ç†è§£å¹¿æ’­æœºåˆ¶ï¼Œè¿™æ˜¯ NumPy å¼ºå¤§åŠŸèƒ½çš„åŸºç¡€ã€‚
    *   **ufuncs:** æ¢ç´¢æ›´å¤š ufuncsï¼Œäº†è§£å®ƒä»¬çš„æ€§èƒ½ä¼˜åŠ¿ã€‚
    *   **ç»“æ„åŒ–æ•°ç»„ (Structured Arrays):** äº†è§£å¦‚ä½•ä½¿ç”¨ç»“æ„åŒ–æ•°ç»„æ¥è¡¨ç¤ºæ›´å¤æ‚çš„æ•°æ®ã€‚
    *   **å†…å­˜æ˜ å°„ (Memory Mapping):** äº†è§£å¦‚ä½•ä½¿ç”¨ `np.memmap` æ¥å¤„ç†è¶…å‡ºå†…å­˜å®¹é‡çš„å¤§å‹æ•°ç»„ã€‚

*   **ä¸å…¶ä»–ç§‘å­¦è®¡ç®—åº“ç»“åˆ:**
    *   **SciPy:** å­¦ä¹  SciPyï¼Œå®ƒæä¾›äº†æ›´å¤šé«˜çº§çš„ç§‘å­¦è®¡ç®—åŠŸèƒ½ï¼Œå¦‚ä¼˜åŒ–ã€ç§¯åˆ†ã€æ’å€¼ã€ä¿¡å·å¤„ç†ç­‰ã€‚
    *   **Pandas:** å­¦ä¹  Pandasï¼Œå®ƒæ„å»ºåœ¨ NumPy ä¹‹ä¸Šï¼Œæä¾›äº† DataFrame æ•°æ®ç»“æ„ï¼Œç”¨äºæ•°æ®åˆ†æå’Œå¤„ç†ã€‚
    *   **Matplotlib/Seaborn:** å­¦ä¹  Matplotlib å’Œ Seabornï¼Œç”¨äºæ•°æ®å¯è§†åŒ–ã€‚
    *   **Scikit-learn:** å­¦ä¹  Scikit-learnï¼Œå®ƒæ˜¯ä¸€ä¸ªæµè¡Œçš„æœºå™¨å­¦ä¹ åº“ï¼Œä¹Ÿæ„å»ºåœ¨ NumPy ä¹‹ä¸Šã€‚

* **æ€§èƒ½ä¼˜åŒ–:**

    *   **Cython:** å¦‚æœéœ€è¦æè‡´çš„æ€§èƒ½ï¼Œå¯ä»¥å­¦ä¹  Cythonï¼Œå®ƒå…è®¸æ‚¨å°† Python ä»£ç ç¼–è¯‘ä¸º C ä»£ç ã€‚
    *   **Numba:** å¦ä¸€ä¸ªåŠ é€Ÿ Python ä»£ç çš„å·¥å…·ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ•°å€¼è®¡ç®—ã€‚
    *   **å¹¶è¡Œè®¡ç®—:** äº†è§£å¦‚ä½•ä½¿ç”¨ NumPy è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œä¾‹å¦‚ä½¿ç”¨å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹ã€‚


:::