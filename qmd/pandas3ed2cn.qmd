---
title: "Python æ•°æ®åˆ†æ"
subtitle: "ç¬¬ 2 ç«  Python è¯­è¨€åŸºç¡€"
---

## Python è¯­è¨€åŸºç¡€ã€IPython å’Œ Jupyter Notebooks ğŸš€

æœ¬ç« ä»‹ç» Pythonã€IPython å’Œ Jupyter Notebooks çš„åŸºæœ¬æ¦‚å¿µï¼Œè¿™äº›æ˜¯æ•°æ®åˆ†æçš„å¿…å¤‡å·¥å…·ã€‚æˆ‘ä»¬å°†æ¶µç›–ï¼š

-   **Python è¯­è¨€åŸºç¡€**ï¼šæ ¸å¿ƒè¯­æ³•å’Œè¯­ä¹‰ã€‚
-   **IPython**ï¼šå¢å¼ºçš„äº¤äº’å¼ Python shellã€‚
-   **Jupyter Notebooks**ï¼šåŸºäº Web çš„äº¤äº’å¼è®¡ç®—ç¯å¢ƒã€‚

## ç®€ä»‹ï¼ˆç»­ï¼‰

Python æ•°æ®åˆ†æèƒ½åŠ›çš„æ¼”å˜å°±åƒä¸€ä¸ªâ€œå…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹â€çš„åœºæ™¯ã€‚æœ€åˆï¼Œåƒ pandasã€scikit-learn å’Œ statsmodels è¿™æ ·çš„åº“è¿˜ä¸å¤ªæˆç†Ÿã€‚

å¦‚ä»Šï¼Œè¿™äº›åº“å·²ç»æˆç†Ÿï¼Œå½¢æˆäº†ä¸€ä¸ªå¼ºå¤§çš„ç”Ÿæ€ç³»ç»Ÿï¼Œç”¨äºæ•°æ®ç§‘å­¦ã€æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡è®¡ç®—ã€‚è¿™ä½¿å¾— Python æˆä¸ºä»»ä½•å¤„ç†æ•°æ®çš„äººçš„ç»ä½³å·¥å…·ã€‚ğŸ‰

## ä¸ºä»€ä¹ˆé€‰æ‹© Python è¿›è¡Œæ•°æ®åˆ†æï¼Ÿ

-   **æ•°æ®æ•´ç†çš„ç†æƒ³é€‰æ‹©**ï¼šPython æ“…é•¿å°†æ‚ä¹±æ— ç« çš„éç»“æ„åŒ–æ•°æ®è½¬æ¢ä¸ºå¹²å‡€çš„è¡¨æ ¼æ ¼å¼ã€‚è¿™å¯¹äºå‡†å¤‡ç”¨äºåˆ†æçš„æ•°æ®é›†è‡³å…³é‡è¦ã€‚

## ä¸ºä»€ä¹ˆé€‰æ‹© Python è¿›è¡Œæ•°æ®åˆ†æï¼Ÿï¼ˆç»­ï¼‰

-   **ä¸°å¯Œçš„åº“ç”Ÿæ€ç³»ç»Ÿ**ï¼špandasã€NumPyã€scikit-learn å’Œ Matplotlib ç­‰åº“ä¸ºæ•°æ®æ“ä½œã€åˆ†æå’Œå¯è§†åŒ–æä¾›äº†å¼ºå¤§çš„å·¥å…·ã€‚
-   **å¯Œæœ‰è¡¨ç°åŠ›å’Œå¯è¯»æ€§çš„è¯­æ³•**ï¼šå¯è¯»æ€§ä½¿ Python æ˜“äºå­¦ä¹ å’Œä½¿ç”¨ï¼Œç‰¹åˆ«æ˜¯å¯¹äºåˆå­¦è€…ã€‚

## ä¸ºä»€ä¹ˆé€‰æ‹© Python è¿›è¡Œæ•°æ®åˆ†æï¼Ÿï¼ˆå¯è§†åŒ–ï¼‰

![](./images/data-science-python.png)

## å…¥é—¨ï¼šå®æ—¶ç¼–ç  ğŸ’»

æœ€å¥½çš„å­¦ä¹ æ–¹æ³•æ˜¯å®è·µï¼æˆ‘ä»¬å°†é€šè¿‡ IPython æˆ– Jupyter ä¼šè¯æ¥æ¢ç´¢è¿™äº›æ¦‚å¿µã€‚è·Ÿç€ç¤ºä¾‹ä¸€èµ·å­¦ä¹ ï¼Œä»¥æœ€å¤§ç¨‹åº¦åœ°æé«˜å­¦ä¹ æ•ˆæœã€‚

ç†Ÿæ‚‰é”®ç›˜é©±åŠ¨ã€ç±»ä¼¼æ§åˆ¶å°çš„å¼€å‘ä¹Ÿæ˜¯å­¦ä¹ è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚

## 2.1 Python è§£é‡Šå™¨

- Python æ˜¯ä¸€ç§**è§£é‡Šå‹**è¯­è¨€ã€‚è§£é‡Šå™¨é€è¡Œæ‰§è¡Œä»£ç ã€‚

- ä½¿ç”¨ `python` å‘½ä»¤å¯åŠ¨æ ‡å‡†è§£é‡Šå™¨ã€‚

```{bash}
$ python
Python 3.10.4 | packaged by conda-forge | (main, Mar 24 2022, 17:38:57)
[GCC 10.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> a = 5  # å®šä¹‰ä¸€ä¸ªå˜é‡ aï¼Œå¹¶èµ‹å€¼ä¸º 5
>>> print(a)  # æ‰“å°å˜é‡ a çš„å€¼
5
```

## Python è§£é‡Šå™¨ï¼ˆç»­ï¼‰

- `>>>` æ˜¯æ‚¨é”®å…¥ä»£ç çš„æç¤ºç¬¦ã€‚
- ä½¿ç”¨ `exit()` æˆ– `Ctrl-D`ï¼ˆLinux/macOSï¼‰é€€å‡ºã€‚

## è¿è¡Œ Python ç¨‹åº

-   åˆ›å»ºä¸€ä¸ª `.py` æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼Œ`hello_world.py`ï¼‰ã€‚

-   ä»ç»ˆç«¯è¿è¡Œï¼š`python hello_world.py`ã€‚ç¡®ä¿æ–‡ä»¶ä½äºæ‚¨çš„å½“å‰å·¥ä½œç›®å½•ä¸­ã€‚

```{python}
# hello_world.py
print("Hello world")  # æ‰“å° "Hello world"
```

## è¿è¡Œ Python ç¨‹åºï¼ˆç»­ï¼‰

```{bash}
$ python hello_world.py
Hello world
```

## 2.2 IPython åŸºç¡€

-   **IPython** æ˜¯ä¸€ä¸ª*å¢å¼ºçš„* Python è§£é‡Šå™¨ã€‚å®ƒä¸“ä¸ºäº¤äº’å¼æ•°æ®åˆ†æè€Œè®¾è®¡ã€‚

-   **Jupyter Notebooks** æ˜¯æ„å»ºåœ¨ IPython ä¹‹ä¸Šçš„åŸºäº Web çš„ç¯å¢ƒã€‚å®ƒä»¬æä¾›äº†ä¸°å¯Œçš„äº¤äº’å¼ä½“éªŒã€‚

## 2.2 IPython åŸºç¡€ï¼ˆç»­ï¼‰

-   ä½¿ç”¨ `ipython` å‘½ä»¤å¯åŠ¨ IPythonã€‚

```{bash}
$ ipython
Python 3.10.4 | packaged by conda-forge | (main, Mar 24 2022, 17:38:57)
Type 'copyright', 'credits' or 'license' for more information
IPython 7.31.1 -- An enhanced Interactive Python. Type '?' for help.

In [1]:
```

-   è¯·æ³¨æ„ `In [1]:` æç¤ºç¬¦ï¼Œå®ƒä¸æ ‡å‡†çš„ `>>>` ä¸åŒã€‚

## IPythonï¼šè¿è¡Œä»£ç 

-   é€šè¿‡é”®å…¥ä»£ç å¹¶æŒ‰ Enter é”®æ¥æ‰§è¡Œä»£ç ã€‚
-   å½“æ‚¨é”®å…¥å¯¹è±¡çš„åç§°æ—¶ï¼ŒIPython ä¼šæ˜¾ç¤ºå¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚

```{python}
#| eval: false
In [1]: a = 5  # å®šä¹‰å˜é‡ a å¹¶èµ‹å€¼ä¸º 5

In [2]: a  # ç›´æ¥è¾“å…¥å˜é‡åï¼ŒIPython ä¼šæ˜¾ç¤ºå…¶å€¼
Out[2]: 5

In [3]: import numpy as np  # å¯¼å…¥ numpy åº“ï¼Œå¹¶ç®€å†™ä¸º np

In [4]: data = [np.random.standard_normal() for i in range(7)]  # ç”ŸæˆåŒ…å« 7 ä¸ªæ ‡å‡†æ­£æ€åˆ†å¸ƒéšæœºæ•°çš„åˆ—è¡¨
```

## IPythonï¼šè¿è¡Œä»£ç ï¼ˆç»­ï¼‰

```{python}
#| eval: false
In [5]: data  # æ˜¾ç¤º data åˆ—è¡¨
Out[5]:
[-0.20470765948471295,
 0.47894333805754824,
 -0.5194387150567381,
 -0.55573030434749,
 1.9657805725027142,
 1.3934058329729904,
 0.09290787674371767]
```

-   IPython çš„è¾“å‡ºé€šå¸¸æ¯”æ ‡å‡† Python çš„ `print()` æ›´å…·å¯è¯»æ€§ã€‚

## è¿è¡Œ Jupyter Notebook

-   Jupyter Notebook æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„äº¤äº’å¼æ–‡æ¡£ï¼Œé€‚ç”¨äºä»£ç ã€æ–‡æœ¬ï¼ˆä½¿ç”¨ Markdownï¼‰ã€å¯è§†åŒ–ç­‰ã€‚

-   ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ï¼š`jupyter notebook`

```{bash}
$ jupyter notebook
[I 15:20:52.739 NotebookApp] Serving notebooks from local directory:
/home/wesm/code/pydata-book
...
[I 15:20:52.740 NotebookApp] Use Control-C to stop this server and shut down
all kernels...
```

## è¿è¡Œ Jupyter Notebookï¼ˆç»­ï¼‰

-   Jupyter é€šå¸¸ä¼šåœ¨æ‚¨çš„ Web æµè§ˆå™¨ä¸­è‡ªåŠ¨æ‰“å¼€ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·å¯¼èˆªåˆ°æä¾›çš„åœ°å€ï¼ˆä¾‹å¦‚ï¼Œ`http://localhost:8888`ï¼‰ã€‚

## Jupyter Notebookï¼šç•Œé¢

![](./images/jupyter_landing_page.png)

-   **ç™»å½•é¡µé¢**ï¼šæ˜¾ç¤ºæ‚¨å¯åŠ¨ Jupyter çš„ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚

## Jupyter Notebookï¼šç•Œé¢ï¼ˆç»­ï¼‰

-   **æ–°å»º Notebook**ï¼šå•å‡»â€œNewâ€->â€œPython 3â€ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ Notebookã€‚

## Jupyter Notebookï¼šå•å…ƒæ ¼

![](./images/jupyter_new_notebook.png)

## Jupyter Notebookï¼šå•å…ƒæ ¼ï¼ˆç»­ï¼‰

- **ä»£ç å•å…ƒæ ¼**ï¼šæ‚¨ç¼–å†™å’Œæ‰§è¡Œ Python ä»£ç çš„åœ°æ–¹ã€‚æŒ‰ `Shift-Enter` è¿è¡Œå•å…ƒæ ¼ã€‚

- **Markdown å•å…ƒæ ¼**ï¼šç”¨äºæ–‡æœ¬ã€è§£é‡Šå’Œæ–‡æ¡£ï¼ˆä½¿ç”¨ Markdown è¯­æ³•ï¼‰ã€‚

- ä¿å­˜ Notebookã€‚å®ƒå°†åˆ›å»ºä¸€ä¸ªæ‰©å±•åä¸º .ipynb çš„æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰å†…å®¹çš„è‡ªåŒ…å«æ ¼å¼ã€‚

## Jupyter Notebookï¼šç¤ºä¾‹è§†å›¾

![](./images/jupyter_example_notebook.png)

## Jupyter Notebookï¼šç¤ºä¾‹è§†å›¾æè¿°

æ­¤å›¾æ˜¾ç¤ºäº†ä¸€ä¸ª Jupyter Notebookï¼Œå…¶ä¸­åŒ…å«æ•°æ®åˆ†æå’Œæ–‡æœ¬çš„ä»£ç ï¼š

-   **æ ‡é¢˜**ï¼šâ€œIntroductory examplesâ€ã€‚
-   **ç« èŠ‚æ ‡é¢˜**ï¼šâ€œ1.usa.gov data from bit.lyâ€ã€‚
-   **ä»£ç å•å…ƒæ ¼**ï¼š
    -   `%pwd`ï¼šæ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•ã€‚
    -   ä»æ–‡ä»¶è¯»å–å’Œå¤„ç†æ•°æ®ã€‚
    -   ä½¿ç”¨ `json` åº“ã€‚
    -   è®¿é—®ç‰¹å®šçš„æ•°æ®å…ƒç´ ã€‚
-   **æ–‡æœ¬å•å…ƒæ ¼**ï¼šâ€œCounting time zones in pure Pythonâ€ã€‚

## IPython å’Œ Jupyterï¼šTab è¡¥å…¨ âŒ¨ï¸

-   **Tab è¡¥å…¨**ï¼šä¸€ä¸ª*å·¨å¤§çš„*èŠ‚çœæ—¶é—´çš„å·¥å…·ï¼åœ¨é”®å…¥æ—¶æŒ‰ `Tab` é”®å¯ä»¥ï¼š
    -   è¡¥å…¨å˜é‡åã€‚
    -   æ˜¾ç¤ºå¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§ã€‚
    -   è¡¥å…¨æ–‡ä»¶è·¯å¾„ã€‚
    -   æŸ¥çœ‹å‡½æ•°çš„å…³é”®å­—å‚æ•°ã€‚

```{python}
#| eval: false
In [1]: an_apple = 27  # å®šä¹‰ä¸€ä¸ªå˜é‡ an_apple

In [2]: an_example = 42  # å®šä¹‰å¦ä¸€ä¸ªå˜é‡ an_example

In [3]: an<Tab>  # åœ¨è¿™é‡ŒæŒ‰ Tab é”®
an_apple  an_example  any  # IPython ä¼šæ˜¾ç¤ºå¯èƒ½çš„è¡¥å…¨
```

## Tab è¡¥å…¨ï¼šæ–¹æ³•å’Œæ¨¡å—

```{python}
#| eval: false
In [3]: b = [1, 2, 3]  # å®šä¹‰ä¸€ä¸ªåˆ—è¡¨ b

In [4]: b.<Tab>  # åœ¨ç‚¹å·åæŒ‰ Tab é”®
append()  count()   insert()  reverse()  # æ˜¾ç¤ºåˆ—è¡¨ b çš„æ‰€æœ‰å¯ç”¨æ–¹æ³•
clear()   extend()  pop()     sort()
copy()    index()   remove()
```

## Tab è¡¥å…¨ï¼šæ–¹æ³•å’Œæ¨¡å—ï¼ˆç»­ï¼‰

```{python}
#| eval: false
In [1]: import datetime  # å¯¼å…¥ datetime æ¨¡å—

In [2]: datetime.<Tab>  # åœ¨ç‚¹å·åæŒ‰ Tab é”®
date       MAXYEAR    timedelta  # æ˜¾ç¤º datetime æ¨¡å—çš„æ‰€æœ‰å¯ç”¨æˆå‘˜
datetime   MINYEAR    timezone
datetime_CAPI time      tzinfo
```

- IPython é»˜è®¤éšè—ä»¥ä¸‹åˆ’çº¿å¼€å¤´çš„æ–¹æ³•å’Œå±æ€§ã€‚

## Tab è¡¥å…¨ï¼šå‡½æ•°å‚æ•°

![](./images/autocomplete_function_keywords.png)

-   Tab è¡¥å…¨ä¹Ÿé€‚ç”¨äºå‡½æ•°å…³é”®å­—å‚æ•°ï¼ŒåŒ…æ‹¬ `=` ç¬¦å·ï¼

## IPython å’Œ Jupyterï¼šå†…çœ ğŸ”

-   **å†…çœ**ï¼šä½¿ç”¨ `?` è·å–æœ‰å…³å¯¹è±¡çš„ä¿¡æ¯ã€‚

```{python}
#| eval: false
In [1]: b = [1, 2, 3]  # å®šä¹‰ä¸€ä¸ªåˆ—è¡¨ b

In [2]: b?  # åœ¨å˜é‡åååŠ ä¸Šé—®å·ï¼Œè¿›è¡Œå†…çœ
Type:        list  # ç±»å‹ï¼šåˆ—è¡¨
String form: [1, 2, 3]  # å­—ç¬¦ä¸²å½¢å¼
Length:      3  # é•¿åº¦ï¼š3
Docstring:  # æ–‡æ¡£å­—ç¬¦ä¸²
Built-in mutable sequence.  # å†…ç½®çš„å¯å˜åºåˆ—

If no argument is given, the constructor creates a new empty list.  # å¦‚æœæ²¡æœ‰ç»™å‡ºå‚æ•°ï¼Œæ„é€ å‡½æ•°å°†åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºåˆ—è¡¨ã€‚
The argument must be an iterable if specified.  # å¦‚æœæŒ‡å®šäº†å‚æ•°ï¼Œåˆ™å‚æ•°å¿…é¡»æ˜¯å¯è¿­ä»£å¯¹è±¡ã€‚
```

## å†…çœï¼šå‡½æ•°ç¤ºä¾‹

```{python}
#| eval: false
def add_numbers(a, b):  # å®šä¹‰ä¸€ä¸ªå‡½æ•° add_numbers
    """
    Add two numbers together  # å‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²

    Returns
    -------
    the_sum : type of arguments  # è¿”å›å€¼çš„æè¿°
    """
    return a + b  # è¿”å› a å’Œ b çš„å’Œ

In [6]: add_numbers?  # å¯¹å‡½æ•°è¿›è¡Œå†…çœ
Signature: add_numbers(a, b)  # å‡½æ•°ç­¾å
Docstring:  # æ–‡æ¡£å­—ç¬¦ä¸²
Add two numbers together  # å°†ä¸¤ä¸ªæ•°å­—ç›¸åŠ 

Returns
-------
the_sum : type of arguments  # è¿”å›å€¼çš„ç±»å‹
File:      <ipython-input-9-6a548a216e27>  # æ–‡ä»¶å
Type:      function  # ç±»å‹ï¼šå‡½æ•°
```

-   `?` è¿ç®—ç¬¦æ˜¾ç¤ºæ–‡æ¡£å­—ç¬¦ä¸²ï¼Œæä¾›æœ‰å…³å‡½æ•°çš„ä¿¡æ¯ã€‚
- å†…çœè¿˜æ˜¾ç¤ºå‡½æ•°æˆ–å®ä¾‹æ–¹æ³•å’Œæ–‡æ¡£å­—ç¬¦ä¸²ã€‚

## å†…çœï¼šé€šé…ç¬¦æœç´¢

-   å°† `*` ä¸ `?` ä¸€èµ·ä½¿ç”¨ä»¥æœç´¢ IPython å‘½åç©ºé—´ã€‚

```{python}
#| eval: false
In [9]: import numpy as np  # å¯¼å…¥ numpy åº“

In [10]: np.*load*?  # æœç´¢ numpy ä¸­æ‰€æœ‰åŒ…å« "load" çš„åç§°
np.__loader__  # åŒ¹é…åˆ°çš„åç§°
np.load
np.loads
np.loadtxt
```

-   è¿™å°†æ˜¾ç¤º NumPy å‘½åç©ºé—´ä¸­æ‰€æœ‰åŒ…å« "load" çš„åç§°ã€‚

## 2.3 Python è¯­è¨€åŸºç¡€

ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ·±å…¥äº†è§£ Python è¯­è¨€æœ¬èº«çš„æ ¸å¿ƒè¯­æ³•å’Œè¯­ä¹‰ã€‚

### è¯­è¨€è¯­ä¹‰

-   Python å¼ºè°ƒ**å¯è¯»æ€§**ã€**ç®€å•æ€§**å’Œ**æ˜ç¡®æ€§**ã€‚å®ƒé€šå¸¸è¢«æè¿°ä¸ºâ€œå¯æ‰§è¡Œçš„ä¼ªä»£ç â€ã€‚

### ç¼©è¿›ï¼Œè€Œä¸æ˜¯å¤§æ‹¬å· ğŸ“

-   Python ä½¿ç”¨**ç¼©è¿›**ï¼ˆç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ï¼‰æ¥æ„é€ ä»£ç ï¼Œ*è€Œä¸æ˜¯*å¤§æ‹¬å· `{}`ã€‚

```{python}
#| eval: false
for x in array:  # for å¾ªç¯ï¼Œéå†æ•°ç»„ array
    if x < pivot:  # if æ¡ä»¶è¯­å¥ï¼Œå¦‚æœ x å°äº pivot
        less.append(x)  # å°† x æ·»åŠ åˆ° less åˆ—è¡¨
    else:  # å¦åˆ™
        greater.append(x)  # å°† x æ·»åŠ åˆ° greater åˆ—è¡¨
```

-   å†’å· `:` è¡¨ç¤ºç¼©è¿›å—çš„å¼€å§‹ã€‚
-   **ä¸€è‡´çš„ç¼©è¿›è‡³å…³é‡è¦ï¼** ä½¿ç”¨å››ä¸ªç©ºæ ¼ã€‚

::: {.callout-note}
å¼ºçƒˆå»ºè®®ä½¿ç”¨å››ä¸ªç©ºæ ¼ä½œä¸ºé»˜è®¤ç¼©è¿›ï¼Œå¹¶å°†åˆ¶è¡¨ç¬¦æ›¿æ¢ä¸ºå››ä¸ªç©ºæ ¼ã€‚è®¸å¤šæ–‡æœ¬ç¼–è¾‘å™¨éƒ½æœ‰è‡ªåŠ¨å°†åˆ¶è¡¨ç¬¦æ›¿æ¢ä¸ºç©ºæ ¼çš„è®¾ç½®ã€‚
:::

## åˆ†å·

-   Python è¯­å¥é€šå¸¸*ä¸éœ€è¦*åˆ†å·ã€‚
-   åˆ†å·å¯ä»¥åˆ†éš”å•è¡Œä¸Šçš„å¤šä¸ªè¯­å¥ï¼Œä½†é€šå¸¸*ä¸é¼“åŠ±*è¿™æ ·åšï¼Œä»¥æé«˜å¯è¯»æ€§ã€‚

```{python}
a = 5; b = 6; c = 7  # é€šå¸¸é¿å…è¿™ç§é£æ ¼ï¼Œå†™æˆå¤šè¡Œæ›´æ¸…æ™°
```

## ä¸€åˆ‡çš†å¯¹è±¡ ğŸ

-   åœ¨ Python ä¸­ï¼Œ*ä¸€åˆ‡*éƒ½æ˜¯å¯¹è±¡ï¼šæ•°å­—ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å‡½æ•°ã€ç±»ã€æ¨¡å—ç­‰ã€‚
-   æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª**ç±»å‹**ï¼ˆä¾‹å¦‚ï¼Œ`int`ã€`str`ã€`list`ã€`function`ï¼‰å’Œå†…éƒ¨æ•°æ®ã€‚
-   è¿™ä½¿å¾— Python éå¸¸çµæ´»ã€‚

## æ³¨é‡Š ğŸ’¬

-   ä½¿ç”¨äº•å· `#` åˆ›å»ºæ³¨é‡Šã€‚ä¸€è¡Œä¸­ `#` ä¹‹åçš„ä»»ä½•å†…å®¹éƒ½å°†è¢«å¿½ç•¥ã€‚

```{python}
#| eval: false
results = []  # åˆå§‹åŒ–ä¸€ä¸ªç©ºåˆ—è¡¨ results
for line in file_handle:  # éå†æ–‡ä»¶å¥æŸ„ file_handle ä¸­çš„æ¯ä¸€è¡Œ
    # keep the empty lines for now  # æš‚æ—¶ä¿ç•™ç©ºè¡Œ
    # if len(line) == 0:  # å¦‚æœè¡Œçš„é•¿åº¦ä¸º 0
    #     continue  # è·³è¿‡å½“å‰è¿­ä»£
    results.append(line.replace("foo", "bar"))  # å°†è¡Œä¸­çš„ "foo" æ›¿æ¢ä¸º "bar"ï¼Œå¹¶å°†ç»“æœæ·»åŠ åˆ° results åˆ—è¡¨

print("Reached this line")  # ç®€å•çš„çŠ¶æ€æŠ¥å‘Šï¼Œæ‰“å° "Reached this line"
```

## å‡½æ•°å’Œå¯¹è±¡æ–¹æ³•è°ƒç”¨ ğŸ“

-   ä½¿ç”¨æ‹¬å· `()` è°ƒç”¨å‡½æ•°å¹¶ä¼ é€’å‚æ•°ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚
-   å¯¹è±¡é€šå¸¸å…·æœ‰**æ–¹æ³•**ï¼ˆé™„åŠ åˆ°å¯¹è±¡çš„å‡½æ•°ï¼‰ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç‚¹å· `.` è¯­æ³•è°ƒç”¨å®ƒä»¬ã€‚

```{python}
#| eval: false
result = f(x, y, z)  # è°ƒç”¨å‡½æ•° fï¼Œå¹¶ä¼ å…¥å‚æ•° x, y, z
g()  # è°ƒç”¨å‡½æ•° gï¼Œä¸ä¼ å…¥ä»»ä½•å‚æ•°

obj.some_method(x, y, z)  # è°ƒç”¨å¯¹è±¡ obj çš„ some_method æ–¹æ³•ï¼Œå¹¶ä¼ å…¥å‚æ•° x, y, z

result = f(a, b, c, d=5, e="foo")  # è°ƒç”¨å‡½æ•° fï¼Œä¼ å…¥ä½ç½®å‚æ•° a, b, c å’Œå…³é”®å­—å‚æ•° d, e
```

## å˜é‡å’Œå‚æ•°ä¼ é€’ ğŸ”—

-   èµ‹å€¼å˜é‡ä¼šåˆ›å»ºå¯¹ `=` å³ä¾§å¯¹è±¡çš„*å¼•ç”¨*ã€‚

```{python}
a = [1, 2, 3]  # åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ [1, 2, 3]ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å˜é‡ a
b = a  # å°† a èµ‹å€¼ç»™ bï¼Œb ç°åœ¨å¼•ç”¨ä¸ a *ç›¸åŒ*çš„åˆ—è¡¨
a.append(4)  # å‘åˆ—è¡¨ a ä¸­è¿½åŠ å…ƒç´  4
print(b)  # è¾“å‡º: [1, 2, 3, 4]ï¼Œå› ä¸º a å’Œ b æŒ‡å‘åŒä¸€ä¸ªåˆ—è¡¨
```

- **é‡è¦æç¤º**ï¼šåœ¨ Python ä¸­ï¼Œ`a` å’Œ `b` æŒ‡å‘å†…å­˜ä¸­çš„*åŒä¸€ä¸ª*å¯¹è±¡ï¼Œè€Œä¸æ˜¯å‰¯æœ¬ã€‚

## å˜é‡å¼•ç”¨ï¼ˆå›¾ç¤ºï¼‰

![](./images/variable_references.png)

-   æ­¤å›¾è¯´æ˜ `a` å’Œ `b` åªæ˜¯*å¼•ç”¨*å†…å­˜ä¸­åŒä¸€ä¸ªåˆ—è¡¨å¯¹è±¡çš„åç§°ã€‚

::: {.callout-note}
èµ‹å€¼ä¹Ÿç§°ä¸º**ç»‘å®š**ï¼Œå› ä¸ºæˆ‘ä»¬å°†åç§°ç»‘å®šåˆ°å¯¹è±¡ã€‚å·²èµ‹å€¼çš„å˜é‡åæœ‰æ—¶ç§°ä¸º*ç»‘å®šå˜é‡*ã€‚
:::

## åŠ¨æ€å¼•ç”¨ï¼Œå¼ºç±»å‹ ğŸ’ª

-   Python ä¸­çš„å˜é‡æ²¡æœ‰å›ºæœ‰çš„ç±»å‹ã€‚ç±»å‹ä¸å˜é‡å¼•ç”¨çš„*å¯¹è±¡*ç›¸å…³è”ã€‚

```{python}
a = 5  # å°†æ•´æ•° 5 èµ‹å€¼ç»™å˜é‡ a
print(type(a))  # è¾“å‡º: <class 'int'>ï¼Œa çš„ç±»å‹æ˜¯ int

a = "foo"  # å°†å­—ç¬¦ä¸² "foo" èµ‹å€¼ç»™å˜é‡ a
print(type(a))  # è¾“å‡º: <class 'str'>ï¼Œa çš„ç±»å‹ç°åœ¨æ˜¯ str
```

## åŠ¨æ€å¼•ç”¨ï¼Œå¼ºç±»å‹ ğŸ’ªï¼ˆç»­ï¼‰

-   Python æ˜¯**å¼ºç±»å‹**çš„ï¼šå¯¹è±¡å…·æœ‰ç‰¹å®šçš„ç±»å‹ï¼Œéšå¼è½¬æ¢æ˜¯æœ‰é™çš„ã€‚

```{python}
#| eval: false

"5" + 5  # è¿™å°†å¯¼è‡´ TypeErrorï¼Œå› ä¸ºå­—ç¬¦ä¸²å’Œæ•´æ•°ä¸èƒ½ç›´æ¥ç›¸åŠ 
```

## å¼ºç±»å‹ï¼šç¤ºä¾‹

```{python}
a = 4.5  # æµ®ç‚¹æ•° 4.5
b = 2  # æ•´æ•° 2
print(f"a is {type(a)}, b is {type(b)}")  # å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼Œæ‰“å° a å’Œ b çš„ç±»å‹
print(a / b)  # a é™¤ä»¥ bï¼Œç»“æœæ˜¯æµ®ç‚¹æ•° 2.25
```

-   å³ä½¿ `b` æ˜¯æ•´æ•°ï¼Œå®ƒä¹Ÿä¼šè¢«éšå¼è½¬æ¢ä¸ºæµ®ç‚¹æ•°è¿›è¡Œé™¤æ³•è¿ç®—ã€‚

## ä½¿ç”¨ `isinstance` æ£€æŸ¥ç±»å‹

-   ä½¿ç”¨ `isinstance()` æ£€æŸ¥å¯¹è±¡æ˜¯å¦æ˜¯ç‰¹å®šç±»å‹ï¼ˆæˆ–å‡ ç§ç±»å‹ä¹‹ä¸€ï¼‰çš„å®ä¾‹ã€‚

```{python}
a = 5  # æ•´æ•° 5
print(isinstance(a, int))  # è¾“å‡º: Trueï¼Œa æ˜¯ int ç±»å‹çš„å®ä¾‹

b = 4.5  # æµ®ç‚¹æ•° 4.5
print(isinstance(a, (int, float)))  # è¾“å‡º: Trueï¼Œa æ˜¯ int æˆ– float ç±»å‹çš„å®ä¾‹
print(isinstance(b, (int, float)))  # è¾“å‡º: Trueï¼Œb æ˜¯ int æˆ– float ç±»å‹çš„å®ä¾‹
```

## å±æ€§å’Œæ–¹æ³•

-   å¯¹è±¡å…·æœ‰**å±æ€§**ï¼ˆå­˜å‚¨åœ¨å¯¹è±¡â€œå†…éƒ¨â€çš„æ•°æ®ï¼‰å’Œ**æ–¹æ³•**ï¼ˆä¸å¯¹è±¡å…³è”çš„å‡½æ•°ï¼‰ã€‚
-   ä½¿ç”¨ `obj.attribute_name` è®¿é—®å®ƒä»¬ã€‚
- æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`getattr`å‡½æ•°é€šè¿‡åç§°è·å–å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚

```{python}
a = "foo"  # å­—ç¬¦ä¸² "foo"
# a.<Press Tab>  # æŸ¥çœ‹å¯ç”¨çš„å±æ€§å’Œæ–¹æ³•

print(getattr(a, "split")) # é€šè¿‡å­—ç¬¦ä¸²'split'ï¼Œè·å–å¯¹è±¡açš„splitå±æ€§ã€‚
```

## é¸­å­ç±»å‹ ğŸ¦†

- â€œå¦‚æœå®ƒèµ°èµ·æ¥åƒé¸­å­ï¼Œå«èµ·æ¥åƒé¸­å­ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯é¸­å­ã€‚â€
- æ£€æŸ¥ç‰¹å®šè¡Œä¸ºï¼ˆä¾‹å¦‚ï¼Œå¯è¿­ä»£æ€§ï¼‰ï¼Œè€Œä¸æ˜¯ä¸¥æ ¼çš„ç±»å‹ã€‚

```{python}
def isiterable(obj):  # å®šä¹‰ä¸€ä¸ªå‡½æ•° isiterableï¼Œç”¨äºæ£€æŸ¥å¯¹è±¡æ˜¯å¦å¯è¿­ä»£
    try:
        iter(obj)  # å°è¯•å¯¹ obj è¿›è¡Œè¿­ä»£
        return True  # å¦‚æœå¯ä»¥è¿­ä»£ï¼Œè¿”å› True
    except TypeError:  # å¦‚æœå‘ç”Ÿ TypeErrorï¼ˆä¸å¯è¿­ä»£ï¼‰
        return False  # è¿”å› False

print(isiterable("a string"))  # è¾“å‡º: Trueï¼Œå­—ç¬¦ä¸²æ˜¯å¯è¿­ä»£çš„
print(isiterable([1, 2, 3]))  # è¾“å‡º: Trueï¼Œåˆ—è¡¨æ˜¯å¯è¿­ä»£çš„
print(isiterable(5))  # è¾“å‡º: Falseï¼Œæ•´æ•°ä¸å¯è¿­ä»£
```

## å¯¼å…¥ ğŸ“¦

-   **æ¨¡å—**æ˜¯åŒ…å« Python ä»£ç çš„ `.py` æ–‡ä»¶ã€‚
-   ä½¿ç”¨ `import` ä»å…¶ä»–æ¨¡å—è®¿é—®å˜é‡å’Œå‡½æ•°ã€‚

```{python}
# some_module.py  # å®šä¹‰ä¸€ä¸ªåä¸º some_module.py çš„æ¨¡å—
PI = 3.14159  # å®šä¹‰ä¸€ä¸ªå¸¸é‡ PI

def f(x):  # å®šä¹‰ä¸€ä¸ªå‡½æ•° f
    return x + 2  # è¿”å› x + 2

def g(a, b):  # å®šä¹‰ä¸€ä¸ªå‡½æ•° g
    return a + b  # è¿”å› a + b
```

## å¯¼å…¥ï¼ˆç»­ï¼‰

```{python}
#| eval: false

# In another file:  # åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­
import some_module  # å¯¼å…¥ some_module æ¨¡å—
result = some_module.f(5)  # è°ƒç”¨ some_module æ¨¡å—ä¸­çš„ f å‡½æ•°
pi = some_module.PI  # è®¿é—® some_module æ¨¡å—ä¸­çš„ PI å¸¸é‡

# Or:  # æˆ–è€…
from some_module import g, PI  # ä» some_module æ¨¡å—å¯¼å…¥ g å‡½æ•°å’Œ PI å¸¸é‡
result = g(5, PI)  # è°ƒç”¨ g å‡½æ•°

# Or with different names:  # æˆ–è€…ä½¿ç”¨ä¸åŒçš„åç§°
import some_module as sm  # å¯¼å…¥ some_module æ¨¡å—ï¼Œå¹¶å°†å…¶é‡å‘½åä¸º sm
from some_module import PI as pi, g as gf  # ä» some_module æ¨¡å—å¯¼å…¥ PI å’Œ gï¼Œå¹¶åˆ†åˆ«é‡å‘½åä¸º pi å’Œ gf
```

## äºŒå…ƒè¿ç®—ç¬¦å’Œæ¯”è¾ƒ âš™ï¸

-   Python ä½¿ç”¨æ ‡å‡†æ•°å­¦è¯­æ³•è¿›è¡ŒäºŒå…ƒè¿ç®—å’Œæ¯”è¾ƒã€‚

```{python}
print(5 - 7)  # å‡æ³•
print(12 + 21.5)  # åŠ æ³•
print(5 <= 2)  # å°äºç­‰äºæ¯”è¾ƒ
```

## äºŒå…ƒè¿ç®—ç¬¦ï¼ˆè¡¨ï¼‰

| è¿ç®—      | æè¿°                                                                                      |
| -- |  |
| `a + b`        | `a` åŠ  `b`                                                                                  |
| `a - b`        | `a` å‡ `b`                                                                           |
| `a * b`        | `a` ä¹˜ä»¥ `b`                                                                              |
| `a / b`        | `a` é™¤ä»¥ `b`                                                                               |
| `a // b`       | `a` æ•´é™¤ `b`ï¼Œå‘ä¸‹å–æ•´                                      |
| `a ** b`       | `a` çš„ `b` æ¬¡æ–¹                                                                        |

## äºŒå…ƒè¿ç®—ç¬¦ï¼ˆè¡¨ï¼‰- ç»­

| è¿ç®—      | æè¿°                                                                                      |
| -- |  |
| `a & b`        | å¦‚æœ `a` å’Œ `b` éƒ½ä¸º Trueï¼Œåˆ™ä¸º Trueï¼›å¯¹äºæ•´æ•°ï¼ŒæŒ‰ä½ä¸                            |
| `a \| b`       | å¦‚æœ `a` æˆ– `b` ä¸º Trueï¼Œåˆ™ä¸º Trueï¼›å¯¹äºæ•´æ•°ï¼ŒæŒ‰ä½æˆ–                             |
| `a ^ b`        | å¯¹äºå¸ƒå°”å€¼ï¼Œå¦‚æœ `a` æˆ– `b` ä¸º Trueï¼Œä½†ä¸åŒæ—¶ä¸º Trueï¼Œåˆ™ä¸º Trueï¼›å¯¹äºæ•´æ•°ï¼ŒæŒ‰ä½å¼‚æˆ– |
| `a == b`       | å¦‚æœ `a` ç­‰äº `b`ï¼Œåˆ™ä¸º True                                                                            |
| `a != b`       | å¦‚æœ `a` ä¸ç­‰äº `b`ï¼Œåˆ™ä¸º True                                                                   |

## äºŒå…ƒè¿ç®—ç¬¦ï¼ˆè¡¨ï¼‰- ç»­

| è¿ç®—      | æè¿°                                                                                      |
| -- |  |
| `a < b, a <= b` | å¦‚æœ `a` å°äºï¼ˆå°äºæˆ–ç­‰äºï¼‰`b`ï¼Œåˆ™ä¸º True                                            |
| `a > b, a >= b` | å¦‚æœ `a` å¤§äºï¼ˆå¤§äºæˆ–ç­‰äºï¼‰`b`ï¼Œåˆ™ä¸º True                                        |
| `a is b`       | å¦‚æœ `a` å’Œ `b` å¼•ç”¨åŒä¸€ä¸ª Python å¯¹è±¡ï¼Œåˆ™ä¸º True                                              |
| `a is not b`   | å¦‚æœ `a` å’Œ `b` å¼•ç”¨ä¸åŒçš„ Python å¯¹è±¡ï¼Œåˆ™ä¸º True                                           |

## `is` å’Œ `is not`

-   `is` æ£€æŸ¥ä¸¤ä¸ªå˜é‡æ˜¯å¦å¼•ç”¨*åŒä¸€ä¸ª*å¯¹è±¡ã€‚
- `is not` æ£€æŸ¥ä¸¤ä¸ªå˜é‡æ˜¯å¦å¼•ç”¨ä¸åŒçš„å¯¹è±¡ã€‚
-   `==` æ£€æŸ¥*å€¼*æ˜¯å¦ç›¸ç­‰ã€‚

```{python}
a = [1, 2, 3]  # åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ [1, 2, 3]
b = a  # b å¼•ç”¨ a
c = list(a)  # åˆ›å»ºä¸€ä¸ª a çš„æ–°å‰¯æœ¬ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™ c

print(a is b)      # è¾“å‡º: Trueï¼Œa å’Œ b å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡
print(a is not c)  # è¾“å‡º: Trueï¼Œa å’Œ c å¼•ç”¨ä¸åŒçš„å¯¹è±¡
print(a == c)      # è¾“å‡º: Trueï¼Œa å’Œ c çš„å€¼ç›¸ç­‰
```

## å¯å˜å’Œä¸å¯å˜å¯¹è±¡ ğŸ”„

-   **å¯å˜**å¯¹è±¡ï¼ˆåˆ—è¡¨ã€å­—å…¸ã€NumPy æ•°ç»„ç­‰ï¼‰å¯ä»¥åœ¨åŸåœ°ä¿®æ”¹ã€‚
-   **ä¸å¯å˜**å¯¹è±¡ï¼ˆå­—ç¬¦ä¸²ã€å…ƒç»„ï¼‰åœ¨åˆ›å»ºåæ— æ³•æ›´æ”¹ã€‚

```{python}
#| eval: false

a_list = ["foo", 2, [4, 5]]  # åˆ›å»ºä¸€ä¸ªåˆ—è¡¨
a_list[2] = (3, 4)  # ä¿®æ”¹åˆ—è¡¨çš„ç¬¬ä¸‰ä¸ªå…ƒç´ 
print(a_list)  # è¾“å‡º: ['foo', 2, (3, 4)]

a_tuple = (3, 5, (4, 5))  # åˆ›å»ºä¸€ä¸ªå…ƒç»„
a_tuple[1] = "four"  # è¿™å°†å¯¼è‡´ TypeErrorï¼Œå› ä¸ºå…ƒç»„æ˜¯ä¸å¯å˜çš„
```

## æ ‡é‡ç±»å‹

-   Python å…·æœ‰ç”¨äºå¤„ç†æ•°å€¼æ•°æ®ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼å’Œæ—¥æœŸ/æ—¶é—´çš„å†…ç½®ç±»å‹ã€‚è¿™äº›è¢«ç§°ä¸º*æ ‡é‡ç±»å‹*ã€‚

| ç±»å‹   | æè¿°                                                |
| :-- | : |
| `None` | Python çš„ "null" å€¼                                    |
| `str`  | å­—ç¬¦ä¸²ç±»å‹ï¼›ä¿å­˜ Unicode å­—ç¬¦ä¸²                         |
| `bytes`| åŸå§‹äºŒè¿›åˆ¶æ•°æ®                                           |
| `float`| åŒç²¾åº¦æµ®ç‚¹æ•°                     |
| `bool` | å¸ƒå°”å€¼ `True` æˆ– `False`                                |
| `int`  | ä»»æ„ç²¾åº¦æ•´æ•°                                        |

## æ•°å€¼ç±»å‹ï¼š`int` å’Œ `float`

-   `int`ï¼šå¯ä»¥å­˜å‚¨ä»»æ„å¤§çš„æ•´æ•°ã€‚
-   `float`ï¼šè¡¨ç¤ºåŒç²¾åº¦æµ®ç‚¹æ•°ï¼ˆç±»ä¼¼äº C/C++ ä¸­çš„ `double`ï¼‰ã€‚

```{python}
ival = 17239871
print(ival ** 6)  # æ•´æ•°çš„å¹‚è¿ç®—

fval = 7.243
fval2 = 6.78e-5  # ç§‘å­¦è®¡æ•°æ³•
```

## æ•°å€¼ç±»å‹ï¼š`int` å’Œ `float`ï¼ˆç»­ï¼‰

- æ•´æ•°é™¤æ³•å¦‚æœäº§ç”Ÿéæ•´æ•°ç»“æœï¼Œæ€»æ˜¯å¾—åˆ°ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚ä½¿ç”¨`//`è¿›è¡Œå‘ä¸‹å–æ•´é™¤æ³•ã€‚

## å­—ç¬¦ä¸² ğŸ“

-   ä½¿ç”¨å•å¼•å· `'...'` æˆ–åŒå¼•å· `"..."` åˆ›å»ºå­—ç¬¦ä¸²å­—é¢é‡ã€‚
-   å¯¹äºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ä¸‰å¼•å· `'''...'''` æˆ– `"""..."""`ã€‚

```{python}
a = 'one way of writing a string'
b = "another way"
c = """
This is a longer string that
spans multiple lines
"""  # å¤šè¡Œå­—ç¬¦ä¸²
```

-   Python å­—ç¬¦ä¸²æ˜¯*ä¸å¯å˜çš„*ã€‚

## å­—ç¬¦ä¸²æ“ä½œ

-   æœ‰è®¸å¤šå†…ç½®çš„å­—ç¬¦ä¸²æ–¹æ³•å¯ç”¨ï¼ˆä¾‹å¦‚ï¼Œ`count()`ã€`replace()`ã€`split()`ï¼‰ã€‚

```{python}
a = "this is a string"
# a[10] = 'f'  # TypeError: 'str' å¯¹è±¡ä¸æ”¯æŒé¡¹èµ‹å€¼ï¼Œå› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„

b = a.replace("string", "longer string")  # æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„å­ä¸²
print(b) # è¾“å‡ºï¼šthis is a longer string
print(a) # è¾“å‡ºï¼šthis is a string, açš„å€¼ä¸ä¼šæ”¹å˜
```

-   ä½¿ç”¨ `str()` å°†å…¶ä»–å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

## å­—ç¬¦ä¸²åˆ‡ç‰‡å’ŒåŸå§‹å­—ç¬¦ä¸²

-   å­—ç¬¦ä¸²æ˜¯ Unicode å­—ç¬¦åºåˆ—ï¼Œå¯ä»¥åƒåˆ—è¡¨/å…ƒç»„ä¸€æ ·å¤„ç†ã€‚

```{python}
s = "python"
print(list(s))  # è¾“å‡º: ['p', 'y', 't', 'h', 'o', 'n']
print(s[:3])  # è¾“å‡º: 'pyt'ï¼Œå­—ç¬¦ä¸²åˆ‡ç‰‡
```

## å­—ç¬¦ä¸²åˆ‡ç‰‡å’ŒåŸå§‹å­—ç¬¦ä¸²ï¼ˆç»­ï¼‰

-   åæ–œæ  `\` æ˜¯è½¬ä¹‰å­—ç¬¦ã€‚ä½¿ç”¨åŸå§‹å­—ç¬¦ä¸²ï¼ˆä»¥ `r` ä¸ºå‰ç¼€ï¼‰å¯ä»¥é¿å…è½¬ä¹‰ã€‚

```{python}
s = "12\\\\34"  # åŒ…å«ä¸¤ä¸ªåæ–œæ çš„å­—ç¬¦ä¸²
print(s)  # è¾“å‡º: 12\34

raw_string = r"this\has\no\special\characters"  # åŸå§‹å­—ç¬¦ä¸²ï¼Œåæ–œæ ä¸è½¬ä¹‰
print(raw_string)  # è¾“å‡º: this\has\no\special\characters
```

## å­—ç¬¦ä¸²è¿æ¥å’Œæ ¼å¼åŒ–

-   å°†å­—ç¬¦ä¸²ç›¸åŠ ä¼šè¿æ¥å®ƒä»¬ã€‚

```{python}
a = "this is the first half "
b = "and this is the second half"
print(a + b)  # å­—ç¬¦ä¸²è¿æ¥
```

-   å¯¹äºæ›´å¤æ‚çš„å­—ç¬¦ä¸²æ„é€ ï¼Œä½¿ç”¨å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼ˆ`format()` æ–¹æ³•æˆ– f-stringsï¼‰ã€‚

## å­—ç¬¦ä¸²æ ¼å¼åŒ– (f-strings)

```{python}
amount = 10
rate = 88.46
currency = "Pesos"
result = f"{amount} {currency} is worth US${amount / rate:.2f}"  # f-string æ ¼å¼åŒ–
print(result) # è¾“å‡ºï¼š10 Pesos is worth US$0.11
```

-   f-stringsï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²å­—é¢é‡ï¼‰æ˜¯ä¸€ç§å°†è¡¨è¾¾å¼åµŒå…¥å­—ç¬¦ä¸²ä¸­çš„ç®€æ´æ–¹å¼ã€‚

## å­—èŠ‚å’Œ Unicode

-   åœ¨ Python 3 ä¸­ï¼ŒUnicode æ˜¯ä¸»è¦çš„å­—ç¬¦ä¸²ç±»å‹ã€‚
-   `encode()` å°† Unicode å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚ï¼ˆä¾‹å¦‚ï¼ŒUTF-8ï¼‰ã€‚
-   `decode()` å°†å­—èŠ‚è½¬æ¢å› Unicode å­—ç¬¦ä¸²ã€‚

```{python}
val = "espaÃ±ol"  # Unicode å­—ç¬¦ä¸²
val_utf8 = val.encode("utf-8")  # ç¼–ç ä¸º UTF-8 å­—èŠ‚
print(val_utf8)  # è¾“å‡º: b'espa\xc3\xb1ol'
print(type(val_utf8))  # è¾“å‡º: <class 'bytes'>

print(val_utf8.decode("utf-8"))  # è§£ç ä¸º Unicode å­—ç¬¦ä¸²
```

## å¸ƒå°”å€¼

-   `True` å’Œ `False` æ˜¯å¸ƒå°”å€¼ã€‚
-   æ¯”è¾ƒå’Œæ¡ä»¶è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœä¸º `True` æˆ– `False`ã€‚
-   ä¸ `and`ã€`or` å’Œ `not` ç»“åˆä½¿ç”¨ã€‚

```{python}
print(True and True)  # è¾“å‡º: True
print(False or True)  # è¾“å‡º: True

print(int(False))  # è¾“å‡º: 0ï¼ŒFalse å¯ä»¥è½¬æ¢ä¸ºæ•´æ•° 0
print(int(True))   # è¾“å‡º: 1ï¼ŒTrue å¯ä»¥è½¬æ¢ä¸ºæ•´æ•° 1
```

## ç±»å‹è½¬æ¢ ğŸ§±

-   `str()`ã€`bool()`ã€`int()` å’Œ `float()` å¯ç”¨äºå°†å€¼è½¬æ¢ä¸ºä¸åŒçš„ç±»å‹ã€‚

```{python}
s = "3.14159"
fval = float(s)  # å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæµ®ç‚¹æ•°
print(type(fval))  # è¾“å‡º: <class 'float'>
print(int(fval))  # å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºæ•´æ•°ï¼Œå‘ä¸‹å–æ•´
print(bool(fval))  # å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œéé›¶å€¼ä¸º True
print(bool(0))  # å°†æ•´æ•° 0 è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼Œç»“æœä¸º False
```

## `None`

-   `None` æ˜¯ Python çš„ null å€¼ç±»å‹ã€‚å®ƒè¡¨ç¤ºç¼ºå°‘å€¼ã€‚
- å¦‚æœå‡½æ•°æ²¡æœ‰returnè¯­å¥ï¼Œåˆ™å®ƒä¹Ÿæ˜¯å‡½æ•°çš„é»˜è®¤è¿”å›å€¼ã€‚

```{python}
a = None
print(a is None)  # è¾“å‡º: True

b = 5
print(b is not None)  # è¾“å‡º: True
```

- `None` é€šå¸¸ç”¨ä½œå‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚

## æ—¥æœŸå’Œæ—¶é—´ ğŸ“…

-   `datetime` æ¨¡å—æä¾›äº† `datetime`ã€`date` å’Œ `time` ç±»å‹ã€‚

```{python}
from datetime import datetime, date, time  # å¯¼å…¥ datetime æ¨¡å—

dt = datetime(2011, 10, 29, 20, 30, 21)  # åˆ›å»ºä¸€ä¸ª datetime å¯¹è±¡
print(dt.day)  # è¾“å‡º: 29ï¼Œè·å–æ—¥
print(dt.minute)  # è¾“å‡º: 30ï¼Œè·å–åˆ†é’Ÿ
print(dt.date())  # è¾“å‡º: 2011-10-29ï¼Œè·å–æ—¥æœŸéƒ¨åˆ†
print(dt.time())  # è¾“å‡º: 20:30:21ï¼Œè·å–æ—¶é—´éƒ¨åˆ†
```

## æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´

-   `strftime()` å°† `datetime` å¯¹è±¡æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚
-   `strptime()` å°†å­—ç¬¦ä¸²è§£æä¸º `datetime` å¯¹è±¡ã€‚

```{python}
print(dt.strftime("%Y-%m-%d %H:%M"))  # æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´

dt2 = datetime.strptime("20091031", "%Y%m%d")  # è§£æå­—ç¬¦ä¸²ä¸º datetime å¯¹è±¡
print(dt2) # è¾“å‡ºï¼š2009-10-31 00:00:00
```

- æœ‰å…³æ ¼å¼ä»£ç çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜… Python çš„æ–‡æ¡£ã€‚
- ç”±äºdatetime.datetimeæ˜¯ä¸å¯å˜ç±»å‹ï¼Œstrftimeå’Œstrptimeç­‰æ–¹æ³•æ€»æ˜¯äº§ç”Ÿæ–°å¯¹è±¡ã€‚

## æ—¥æœŸ/æ—¶é—´ç®—æœ¯

-   ä¸¤ä¸ª `datetime` å¯¹è±¡ç›¸å‡ä¼šäº§ç”Ÿä¸€ä¸ª `timedelta` å¯¹è±¡ã€‚
-   å°† `timedelta` æ·»åŠ åˆ° `datetime` ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ã€åç§»çš„ `datetime`ã€‚

```{python}
dt2 = datetime(2011, 11, 15, 22, 30)
delta = dt2 - dt  # è®¡ç®—ä¸¤ä¸ª datetime å¯¹è±¡çš„æ—¶é—´å·®
print(delta)  # è¾“å‡º: 17 days, 1:59:39
print(type(delta))  # è¾“å‡º: <class 'datetime.timedelta'>
print(dt + delta)  # å°†æ—¶é—´å·®åŠ åˆ° dt ä¸Š
```

## æ§åˆ¶æµï¼š`if`ã€`elif`ã€`else` ğŸš¦

-   å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œ`if` è¯­å¥æ‰§è¡Œä¸€æ®µä»£ç ã€‚
-   `elif`ï¼ˆelse ifï¼‰æä¾›å…¶ä»–æ¡ä»¶ã€‚
-   `else` æ˜¯ä¸€ä¸ªåŒ…ç½—ä¸‡è±¡çš„å—ã€‚

```{python}
x = -5
if x < 0:  # å¦‚æœ x å°äº 0
    print("It's negative")  # æ‰“å° "It's negative"
elif x == 0:  # å¦åˆ™ï¼Œå¦‚æœ x ç­‰äº 0
    print("Equal to zero")  # æ‰“å° "Equal to zero"
elif 0 < x < 5:  # å¦åˆ™ï¼Œå¦‚æœ x å¤§äº 0 ä¸”å°äº 5
    print("Positive but smaller than 5")  # æ‰“å° "Positive but smaller than 5"
else:  # å¦åˆ™
    print("Positive and larger than or equal to 5")  # æ‰“å° "Positive and larger than or equal to 5"
```

-   å¸¦æœ‰ `and` å’Œ `or` çš„æ¡ä»¶ä»å·¦åˆ°å³è®¡ç®—ï¼Œå¹¶ä¸”æ˜¯çŸ­è·¯çš„ã€‚

## `for` å¾ªç¯ â¿

-   è¿­ä»£é›†åˆï¼ˆåˆ—è¡¨ã€å…ƒç»„ç­‰ï¼‰æˆ–è¿­ä»£å™¨ã€‚

```{python}
#| eval: false
for value in collection:  # éå†é›†åˆä¸­çš„æ¯ä¸ªå€¼
    # do something with value  # å¯¹å€¼æ‰§è¡ŒæŸäº›æ“ä½œ
```

-   `continue` è·³è¿‡å½“å‰è¿­ä»£çš„å…¶ä½™éƒ¨åˆ†ã€‚
-   `break` å®Œå…¨é€€å‡ºå¾ªç¯ã€‚

## `for` å¾ªç¯ç¤ºä¾‹

```{python}
sequence = [1, 2, None, 4, None, 5]  # å®šä¹‰ä¸€ä¸ªåˆ—è¡¨
total = 0  # åˆå§‹åŒ– total ä¸º 0
for value in sequence:  # éå†åˆ—è¡¨ä¸­çš„æ¯ä¸ªå€¼
    if value is None:  # å¦‚æœå€¼ä¸º None
        continue  # è·³è¿‡å½“å‰è¿­ä»£
    total += value  # å°† value åŠ åˆ° total ä¸Š
print(total) # è¾“å‡ºï¼š12
```

## `for` å¾ªç¯ç¤ºä¾‹ï¼ˆç»­ï¼‰

```{python}
sequence = [1, 2, 0, 4, 6, 5, 2, 1]  # å®šä¹‰ä¸€ä¸ªåˆ—è¡¨
total_until_5 = 0  # åˆå§‹åŒ– total_until_5 ä¸º 0
for value in sequence:  # éå†åˆ—è¡¨ä¸­çš„æ¯ä¸ªå€¼
    if value == 5:  # å¦‚æœå€¼ç­‰äº 5
        break  # é€€å‡ºå¾ªç¯
    total_until_5 += value  # å°† value åŠ åˆ° total_until_5 ä¸Š
print(total_until_5) # è¾“å‡ºï¼š13
```

## åµŒå¥— `for` å¾ªç¯

```{python}
for i in range(4):  # å¤–å±‚å¾ªç¯ï¼Œi ä» 0 åˆ° 3
    for j in range(4):  # å†…å±‚å¾ªç¯ï¼Œj ä» 0 åˆ° 3
        if j > i:  # å¦‚æœ j å¤§äº i
            break  # é€€å‡ºå†…å±‚å¾ªç¯
        print((i, j))  # æ‰“å° (i, j)
```

## `while` å¾ªç¯

-   åªè¦æ¡ä»¶ä¸ºçœŸï¼Œå°±é‡å¤æ‰§è¡Œä¸€æ®µä»£ç ã€‚

```{python}
x = 256  # åˆå§‹åŒ– x ä¸º 256
total = 0  # åˆå§‹åŒ– total ä¸º 0
while x > 0:  # å½“ x å¤§äº 0 æ—¶å¾ªç¯
    if total > 500:  # å¦‚æœ total å¤§äº 500
        break  # é€€å‡ºå¾ªç¯
    total += x  # å°† x åŠ åˆ° total ä¸Š
    x = x // 2  # å°† x æ•´é™¤ 2
print(total) # è¾“å‡º 504
```

## `pass` ğŸ›‘

-   `pass` æ˜¯ä¸€ä¸ªâ€œæ— æ“ä½œâ€è¯­å¥ã€‚å®ƒä»€ä¹ˆä¹Ÿä¸åšã€‚å®ƒç”¨äºåœ¨è¯­æ³•ä¸Šéœ€è¦è¯­å¥ä½†æ‚¨ä¸æƒ³æ‰§è¡Œä»»ä½•ä»£ç çš„åœ°æ–¹ã€‚

```{python}
if x < 0:
    print("negative!")
elif x == 0:
    # TODO: put something smart here  # è¿™æ˜¯ä¸€ä¸ªå¾…åŠäº‹é¡¹ï¼Œè¡¨ç¤ºå°†æ¥éœ€è¦åœ¨æ­¤å¤„æ·»åŠ ä»£ç 
    pass  # ä»€ä¹ˆä¹Ÿä¸åš
else:
    print("positive!")
```

## `range` ğŸ”¢

-   `range()` ç”Ÿæˆä¸€ç³»åˆ—ç­‰é—´éš”çš„æ•´æ•°ã€‚
-   `range(stop)`ï¼šç”Ÿæˆä» 0 åˆ°ï¼ˆä½†ä¸åŒ…æ‹¬ï¼‰`stop` çš„æ•´æ•°ã€‚
-   `range(start, stop)`ï¼šç”Ÿæˆä» `start` åˆ°ï¼ˆä½†ä¸åŒ…æ‹¬ï¼‰`stop` çš„æ•´æ•°ã€‚
-   `range(start, stop, step)`ï¼šç”Ÿæˆå…·æœ‰æŒ‡å®š `step` çš„æ•´æ•°ã€‚

```{python}
print(list(range(10)))  # è¾“å‡º: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
print(list(range(0, 20, 2)))  # è¾“å‡º: [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]
print(list(range(5, 0, -1)))  # è¾“å‡º: [5, 4, 3, 2, 1]
```

## `range` ç¤ºä¾‹

```{python}
seq = [1, 2, 3, 4]  # å®šä¹‰ä¸€ä¸ªåˆ—è¡¨
for i in range(len(seq)):  # éå†åˆ—è¡¨çš„ç´¢å¼•
    print(f"element {i}: {seq[i]}")  # æ‰“å°æ¯ä¸ªå…ƒç´ åŠå…¶ç´¢å¼•
```

-   `range` çš„ä¸€ä¸ªå¸¸è§ç”¨é€”æ˜¯æŒ‰ç´¢å¼•éå†åºåˆ—ã€‚

## æ€»ç»“

-   æˆ‘ä»¬å·²ç»ä»‹ç»äº† Python çš„æ ¸å¿ƒæ„å»ºå—ï¼šæ•°æ®ç±»å‹ã€è¿ç®—ç¬¦ã€æ§åˆ¶æµä»¥åŠ IPython å’Œ Jupyter Notebooks çš„åŸºæœ¬ç”¨æ³•ã€‚
-   è¿™äº›æ¦‚å¿µæ„æˆäº†ä½¿ç”¨ Python è¿›è¡Œæ•°æ®åˆ†æçš„åŸºç¡€ã€‚
-   è®°ä½è¦ç»ƒä¹ å’Œå®éªŒï¼ğŸ§ª

## æ€è€ƒå’Œè®¨è®º ğŸ¤”

-   Python çš„â€œä¸€åˆ‡çš†å¯¹è±¡â€çš„ç†å¿µä¸å…¶ä»–è¯­è¨€ç›¸æ¯”å¦‚ä½•ï¼Ÿ
-   ä¸ç¼–å†™è„šæœ¬ç›¸æ¯”ï¼Œä½¿ç”¨ Jupyter Notebooks è¿›è¡Œæ•°æ®åˆ†ææœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ
-   æ‚¨èƒ½æƒ³åˆ°é¸­å­ç±»å‹ç‰¹åˆ«æœ‰ç”¨çš„æƒ…å†µå—ï¼Ÿ
-   æ‚¨å¦‚ä½•åœ¨å®é™…çš„æ•°æ®åˆ†æé¡¹ç›®ä¸­ä½¿ç”¨ `datetime` æ¨¡å—ï¼Ÿ
- å¯å˜å¯¹è±¡å’Œä¸å¯å˜å¯¹è±¡ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå®ƒä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ


